<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Mixing methods | Causal Models: Guide to CausalQueries</title>
  <meta name="description" content="Model based strategies for integrating qualitative and quantitative inferences." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Mixing methods | Causal Models: Guide to CausalQueries" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Model based strategies for integrating qualitative and quantitative inferences." />
  <meta name="github-repo" content="rstudio/causalmodels" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Mixing methods | Causal Models: Guide to CausalQueries" />
  
  <meta name="twitter:description" content="Model based strategies for integrating qualitative and quantitative inferences." />
  

<meta name="author" content="Macartan Humphreys and Alan Jacobs" />


<meta name="date" content="2023-10-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="identification.html"/>
<link rel="next" href="external-validity-and-inference-aggregation.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="headers/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Model based causal inference: A guide to CausalQueries</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Causal Models</b></span></li>
<li class="chapter" data-level="1" data-path="cm.html"><a href="cm.html"><i class="fa fa-check"></i><b>1</b> What and why</a>
<ul>
<li class="chapter" data-level="1.1" data-path="cm.html"><a href="cm.html#two-approaches-to-inference"><i class="fa fa-check"></i><b>1.1</b> Two approaches to inference</a></li>
<li class="chapter" data-level="1.2" data-path="cm.html"><a href="cm.html#recovering-the-ate-with-difference-in-means"><i class="fa fa-check"></i><b>1.2</b> Recovering the ATE with Difference in Means</a></li>
<li class="chapter" data-level="1.3" data-path="cm.html"><a href="cm.html#recovering-the-ate-with-a-causal-model"><i class="fa fa-check"></i><b>1.3</b> Recovering the ATE with a Causal Model</a></li>
<li class="chapter" data-level="1.4" data-path="cm.html"><a href="cm.html#going-further"><i class="fa fa-check"></i><b>1.4</b> Going further</a></li>
</ul></li>
<li class="part"><span><b>II The Package</b></span></li>
<li class="chapter" data-level="2" data-path="package.html"><a href="package.html"><i class="fa fa-check"></i><b>2</b> Installation</a></li>
<li class="chapter" data-level="3" data-path="defining-models.html"><a href="defining-models.html"><i class="fa fa-check"></i><b>3</b> Defining models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="defining-models.html"><a href="defining-models.html#getting-going"><i class="fa fa-check"></i><b>3.1</b> Getting going</a></li>
<li class="chapter" data-level="3.2" data-path="defining-models.html"><a href="defining-models.html#structure"><i class="fa fa-check"></i><b>3.2</b> Causal structure</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="defining-models.html"><a href="defining-models.html#nodal-types"><i class="fa fa-check"></i><b>3.2.1</b> Nodal types</a></li>
<li class="chapter" data-level="3.2.2" data-path="defining-models.html"><a href="defining-models.html#causal-types"><i class="fa fa-check"></i><b>3.2.2</b> Causal types</a></li>
<li class="chapter" data-level="3.2.3" data-path="defining-models.html"><a href="defining-models.html#parameters-dataframe"><i class="fa fa-check"></i><b>3.2.3</b> Parameters dataframe</a></li>
<li class="chapter" data-level="3.2.4" data-path="defining-models.html"><a href="defining-models.html#parameter-matrix"><i class="fa fa-check"></i><b>3.2.4</b> Parameter matrix</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="defining-models.html"><a href="defining-models.html#restrictions"><i class="fa fa-check"></i><b>3.3</b> Setting restrictions</a></li>
<li class="chapter" data-level="3.4" data-path="defining-models.html"><a href="defining-models.html#confounding"><i class="fa fa-check"></i><b>3.4</b> Allowing confounding</a></li>
<li class="chapter" data-level="3.5" data-path="defining-models.html"><a href="defining-models.html#priors"><i class="fa fa-check"></i><b>3.5</b> Setting Priors</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="defining-models.html"><a href="defining-models.html#custom-priors"><i class="fa fa-check"></i><b>3.5.1</b> Custom priors</a></li>
<li class="chapter" data-level="3.5.2" data-path="defining-models.html"><a href="defining-models.html#prior-warnings"><i class="fa fa-check"></i><b>3.5.2</b> Prior warnings</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="defining-models.html"><a href="defining-models.html#parameters"><i class="fa fa-check"></i><b>3.6</b> Setting Parameters</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html"><i class="fa fa-check"></i><b>4</b> Updating models with <code>stan</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html#data-for-stan"><i class="fa fa-check"></i><b>4.1</b> Data for <code>stan</code></a></li>
<li class="chapter" data-level="4.2" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html#stan-code"><i class="fa fa-check"></i><b>4.2</b> <code>stan</code> code</a></li>
<li class="chapter" data-level="4.3" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html#implementation"><i class="fa fa-check"></i><b>4.3</b> Implementation</a></li>
<li class="chapter" data-level="4.4" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html#extensions"><i class="fa fa-check"></i><b>4.4</b> Extensions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html#arbitrary-parameters"><i class="fa fa-check"></i><b>4.4.1</b> Arbitrary parameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="updating-models-with-stan.html"><a href="updating-models-with-stan.html#non-binary-data"><i class="fa fa-check"></i><b>4.4.2</b> Non binary data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="querying-models.html"><a href="querying-models.html"><i class="fa fa-check"></i><b>5</b> Querying models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="querying-models.html"><a href="querying-models.html#case-level-queries"><i class="fa fa-check"></i><b>5.1</b> Case level queries</a></li>
<li class="chapter" data-level="5.2" data-path="querying-models.html"><a href="querying-models.html#posterior-queries"><i class="fa fa-check"></i><b>5.2</b> Posterior queries</a></li>
<li class="chapter" data-level="5.3" data-path="querying-models.html"><a href="querying-models.html#query-distribution"><i class="fa fa-check"></i><b>5.3</b> Query distribution</a></li>
<li class="chapter" data-level="5.4" data-path="querying-models.html"><a href="querying-models.html#token-and-general-causation"><i class="fa fa-check"></i><b>5.4</b> Token and general causation</a></li>
<li class="chapter" data-level="5.5" data-path="querying-models.html"><a href="querying-models.html#complex-queries"><i class="fa fa-check"></i><b>5.5</b> Complex queries</a></li>
</ul></li>
<li class="part"><span><b>III Applications</b></span></li>
<li class="chapter" data-level="6" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>6</b> Basic Models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="applications.html"><a href="applications.html#the-ladder-of-causation-in-an-x-rightarrow-y-model"><i class="fa fa-check"></i><b>6.1</b> The ladder of causation in an <span class="math inline">\(X \rightarrow Y\)</span> model</a></li>
<li class="chapter" data-level="6.2" data-path="applications.html"><a href="applications.html#x-causes-y-with-unmodelled-confounding"><i class="fa fa-check"></i><b>6.2</b> <span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span>, with unmodelled confounding</a></li>
<li class="chapter" data-level="6.3" data-path="applications.html"><a href="applications.html#x-causes-y-with-confounding-modeled"><i class="fa fa-check"></i><b>6.3</b> <span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span>, with confounding modeled</a></li>
<li class="chapter" data-level="6.4" data-path="applications.html"><a href="applications.html#simple-mediation-model"><i class="fa fa-check"></i><b>6.4</b> Simple mediation model</a></li>
<li class="chapter" data-level="6.5" data-path="applications.html"><a href="applications.html#simple-moderator-model"><i class="fa fa-check"></i><b>6.5</b> Simple moderator model</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="explanation.html"><a href="explanation.html"><i class="fa fa-check"></i><b>7</b> Explanation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="explanation.html"><a href="explanation.html#tightening-bounds-on-causes-of-effects-using-an-unobserved-covariate"><i class="fa fa-check"></i><b>7.1</b> Tightening bounds on causes of effects using an unobserved covariate</a></li>
<li class="chapter" data-level="7.2" data-path="explanation.html"><a href="explanation.html#Billy"><i class="fa fa-check"></i><b>7.2</b> Actual Causation: Billy and Suzy’s moderator and mediation model</a></li>
<li class="chapter" data-level="7.3" data-path="explanation.html"><a href="explanation.html#diagnosis-inferring-a-cause-from-symptoms"><i class="fa fa-check"></i><b>7.3</b> Diagnosis: Inferring a cause from symptoms</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="process-tracing.html"><a href="process-tracing.html"><i class="fa fa-check"></i><b>8</b> Process tracing</a>
<ul>
<li class="chapter" data-level="8.1" data-path="process-tracing.html"><a href="process-tracing.html#what-to-infer-from-what"><i class="fa fa-check"></i><b>8.1</b> What to infer from what</a></li>
<li class="chapter" data-level="8.2" data-path="process-tracing.html"><a href="process-tracing.html#probative-value-and-d-separation"><i class="fa fa-check"></i><b>8.2</b> Probative value and <span class="math inline">\(d\)</span>-separation</a></li>
<li class="chapter" data-level="8.3" data-path="process-tracing.html"><a href="process-tracing.html#foundations-for-van-everas-tests"><i class="fa fa-check"></i><b>8.3</b> Foundations for Van Evera’s tests</a></li>
<li class="chapter" data-level="8.4" data-path="process-tracing.html"><a href="process-tracing.html#clue-selection-clues-at-the-center-of-chains-can-be-more-informative"><i class="fa fa-check"></i><b>8.4</b> Clue selection: clues at the center of chains can be more informative</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="identification.html"><a href="identification.html"><i class="fa fa-check"></i><b>9</b> Identification</a>
<ul>
<li class="chapter" data-level="9.1" data-path="identification.html"><a href="identification.html#illustration-of-the-backdoor-criterion"><i class="fa fa-check"></i><b>9.1</b> Illustration of the backdoor criterion</a></li>
<li class="chapter" data-level="9.2" data-path="identification.html"><a href="identification.html#identification-instruments"><i class="fa fa-check"></i><b>9.2</b> Identification: Instruments</a></li>
<li class="chapter" data-level="9.3" data-path="identification.html"><a href="identification.html#identification-through-the-frontdoor"><i class="fa fa-check"></i><b>9.3</b> Identification through the frontdoor</a></li>
<li class="chapter" data-level="9.4" data-path="identification.html"><a href="identification.html#simple-sample-selection-bias"><i class="fa fa-check"></i><b>9.4</b> Simple sample selection bias</a></li>
<li class="chapter" data-level="9.5" data-path="identification.html"><a href="identification.html#addressing-both-sample-selection-bias-and-confounding"><i class="fa fa-check"></i><b>9.5</b> Addressing both sample selection bias and confounding</a></li>
<li class="chapter" data-level="9.6" data-path="identification.html"><a href="identification.html#learning-from-a-collider"><i class="fa fa-check"></i><b>9.6</b> Learning from a collider!</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mixing-methods.html"><a href="mixing-methods.html"><i class="fa fa-check"></i><b>10</b> Mixing methods</a>
<ul>
<li class="chapter" data-level="10.1" data-path="mixing-methods.html"><a href="mixing-methods.html#using-within-case-data-to-help-with-identification"><i class="fa fa-check"></i><b>10.1</b> Using within case data to help with identification</a></li>
<li class="chapter" data-level="10.2" data-path="mixing-methods.html"><a href="mixing-methods.html#distinguishing-paths"><i class="fa fa-check"></i><b>10.2</b> Distinguishing paths</a></li>
<li class="chapter" data-level="10.3" data-path="mixing-methods.html"><a href="mixing-methods.html#nothing-from-nothing"><i class="fa fa-check"></i><b>10.3</b> Nothing from nothing</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="external-validity-and-inference-aggregation.html"><a href="external-validity-and-inference-aggregation.html"><i class="fa fa-check"></i><b>11</b> External validity and inference aggregation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="external-validity-and-inference-aggregation.html"><a href="external-validity-and-inference-aggregation.html#transportation-of-findings-across-contexts"><i class="fa fa-check"></i><b>11.1</b> Transportation of findings across contexts</a></li>
<li class="chapter" data-level="11.2" data-path="external-validity-and-inference-aggregation.html"><a href="external-validity-and-inference-aggregation.html#combining-observational-and-experimental-data"><i class="fa fa-check"></i><b>11.2</b> Combining observational and experimental data</a></li>
<li class="chapter" data-level="11.3" data-path="external-validity-and-inference-aggregation.html"><a href="external-validity-and-inference-aggregation.html#a-jigsaw-puzzle-learning-across-populations"><i class="fa fa-check"></i><b>11.3</b> A jigsaw puzzle: Learning across populations</a></li>
</ul></li>
<li class="part"><span><b>IV Notation</b></span></li>
<li class="chapter" data-level="12" data-path="notation.html"><a href="notation.html"><i class="fa fa-check"></i><b>12</b> Notation and syntax</a>
<ul>
<li class="chapter" data-level="12.1" data-path="notation.html"><a href="notation.html#notation-1"><i class="fa fa-check"></i><b>12.1</b> Notation</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="notation.html"><a href="notation.html#parents"><i class="fa fa-check"></i><b>12.1.1</b> Parents, children, and all that</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="notation.html"><a href="notation.html#syntax"><i class="fa fa-check"></i><b>12.2</b> Causal syntax</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://integrated-inferences.github.io/" target="blank">Uses CausalQueries</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Causal Models: Guide to <code>CausalQueries</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mixing-methods" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Chapter 10</span> Mixing methods<a href="mixing-methods.html#mixing-methods" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In <span class="citation">Humphreys and Jacobs (<a href="#ref-humphreys2015mixing">2015</a>)</span> we describe an approach to mixed methods in which within-case inference from a small set of cases are combined with cross sectional data from many cases to form integrated inferences. Reconceived of as a process of updating causal models, the distinction between within-case and cross case data becomes difficult to maintain—both are, after all, just nodes on a model. However the basic procedure can still be implemented, with, in this case, a rooted justification for <em>why</em> within case information is informative for estimands of interest.</p>
<div id="using-within-case-data-to-help-with-identification" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Using within case data to help with identification<a href="mixing-methods.html#using-within-case-data-to-help-with-identification" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here is a model in which a little within-case data adds a lot of leverage to assessing estimands of interest that cannot be estimated confidently with <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span> data alone. In this model a front door type criterion is half satisfied. We assume <span class="math inline">\(X\rightarrow M \rightarrow Y\)</span> but we allow confounding to take the form of <span class="math inline">\(X\)</span> less likely in cases where <span class="math inline">\(Y=1\)</span> regardless of <span class="math inline">\(X\)</span>.</p>
<p>With simple <span class="math inline">\(X,Y\)</span> data, even on many cases (20,000 here), we cannot get precise estimates and we greatly underestimate the effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span>; with full data on <span class="math inline">\(M\)</span> in many cases we do very well.</p>
<p>But we <em>also</em> do well even with quite partial data on <span class="math inline">\(M\)</span>, e.g. if we have data for 100 out of 20,000 cases.</p>
<p>Thus a little within-case data helps us make sense of the <span class="math inline">\(X,Y\)</span> data we have.</p>
<p>The model:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="mixing-methods.html#cb110-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> </span>
<span id="cb110-2"><a href="mixing-methods.html#cb110-2" tabindex="-1"></a>  <span class="fu">make_model</span>(<span class="st">&quot;X -&gt; M -&gt; Y; M &lt;-&gt; X; X &lt;-&gt; Y&quot;</span>) </span>
<span id="cb110-3"><a href="mixing-methods.html#cb110-3" tabindex="-1"></a></span>
<span id="cb110-4"><a href="mixing-methods.html#cb110-4" tabindex="-1"></a><span class="fu">plot</span>(model)</span></code></pre></div>
<p><img src="causalmodels_files/figure-html/appmm2-1.png" width="672" /></p>
<p>Parameters: We imagine a true model with a treatment effect of .25 but positive confounding (<span class="math inline">\(X=1\)</span> more likely in cases in which <span class="math inline">\(Y=1\)</span>, regardless of <span class="math inline">\(X\)</span>.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="mixing-methods.html#cb111-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> </span>
<span id="cb111-2"><a href="mixing-methods.html#cb111-2" tabindex="-1"></a>  <span class="fu">make_model</span>(<span class="st">&quot;X -&gt; M -&gt; Y;  X &lt;-&gt; Y&quot;</span>) </span>
<span id="cb111-3"><a href="mixing-methods.html#cb111-3" tabindex="-1"></a></span>
<span id="cb111-4"><a href="mixing-methods.html#cb111-4" tabindex="-1"></a>model <span class="ot">&lt;-</span> model <span class="sc">|&gt;</span>  </span>
<span id="cb111-5"><a href="mixing-methods.html#cb111-5" tabindex="-1"></a>  <span class="fu">set_parameters</span>(</span>
<span id="cb111-6"><a href="mixing-methods.html#cb111-6" tabindex="-1"></a>       <span class="at">node =</span> <span class="fu">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;M&quot;</span>, <span class="st">&quot;Y&quot;</span>),</span>
<span id="cb111-7"><a href="mixing-methods.html#cb111-7" tabindex="-1"></a>       <span class="at">parameters =</span> <span class="fu">c</span>(<span class="fl">0.75</span>, <span class="fl">0.25</span>,</span>
<span id="cb111-8"><a href="mixing-methods.html#cb111-8" tabindex="-1"></a>         .<span class="dv">25</span>, <span class="dv">0</span>, .<span class="dv">5</span>, .<span class="dv">25</span>,</span>
<span id="cb111-9"><a href="mixing-methods.html#cb111-9" tabindex="-1"></a>         .<span class="dv">25</span>, <span class="dv">0</span>, .<span class="dv">5</span>, .<span class="dv">25</span>,</span>
<span id="cb111-10"><a href="mixing-methods.html#cb111-10" tabindex="-1"></a>         .<span class="dv">25</span>, <span class="dv">0</span>, .<span class="dv">5</span>, .<span class="dv">25</span>))</span>
<span id="cb111-11"><a href="mixing-methods.html#cb111-11" tabindex="-1"></a></span>
<span id="cb111-12"><a href="mixing-methods.html#cb111-12" tabindex="-1"></a><span class="fu">query_model</span>(model, <span class="fu">list</span>(<span class="at">ATE =</span> <span class="st">&quot;Y[X=1] - Y[X=0]&quot;</span>), <span class="at">using =</span> <span class="st">&quot;parameters&quot;</span>)  <span class="sc">|&gt;</span> <span class="fu">kable</span>()</span></code></pre></div>
<table>
<colgroup>
<col width="10%" />
<col width="7%" />
<col width="7%" />
<col width="13%" />
<col width="13%" />
<col width="6%" />
<col width="3%" />
<col width="17%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model</th>
<th align="left">query</th>
<th align="left">given</th>
<th align="left">using</th>
<th align="left">case_level</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">cred.low.2.5%</th>
<th align="right">cred.high.97.5%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">ATE</td>
<td align="left">-</td>
<td align="left">parameters</td>
<td align="left">FALSE</td>
<td align="right">0.25</td>
<td align="right"></td>
<td align="right">0.25</td>
<td align="right">0.25</td>
</tr>
</tbody>
</table>
<p>We use the model to simulate different types of data we might have access to thus:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="mixing-methods.html#cb112-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">20000</span></span>
<span id="cb112-2"><a href="mixing-methods.html#cb112-2" tabindex="-1"></a></span>
<span id="cb112-3"><a href="mixing-methods.html#cb112-3" tabindex="-1"></a>full_data <span class="ot">&lt;-</span>  <span class="fu">make_data</span>(model, n, <span class="at">using =</span> <span class="st">&quot;parameters&quot;</span>)</span>
<span id="cb112-4"><a href="mixing-methods.html#cb112-4" tabindex="-1"></a></span>
<span id="cb112-5"><a href="mixing-methods.html#cb112-5" tabindex="-1"></a>XY_data <span class="ot">&lt;-</span> full_data <span class="sc">|&gt;</span> <span class="fu">select</span>(X, Y)</span>
<span id="cb112-6"><a href="mixing-methods.html#cb112-6" tabindex="-1"></a></span>
<span id="cb112-7"><a href="mixing-methods.html#cb112-7" tabindex="-1"></a>some_data  <span class="ot">&lt;-</span> full_data <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(<span class="at">M =</span> <span class="fu">ifelse</span>((<span class="dv">1</span><span class="sc">:</span>n) <span class="sc">%in%</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span>n, <span class="dv">100</span>), M, <span class="cn">NA</span>))</span></code></pre></div>
<p>Naive analysis:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="mixing-methods.html#cb113-1" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(Y<span class="sc">~</span>X, <span class="at">data =</span> full_data))<span class="sc">$</span>coef <span class="sc">|&gt;</span> </span>
<span id="cb113-2"><a href="mixing-methods.html#cb113-2" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Estimate</th>
<th align="right">Std. Error</th>
<th align="right">t value</th>
<th align="right">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.38</td>
<td align="right">0.00</td>
<td align="right">95.25</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">X</td>
<td align="right">0.25</td>
<td align="right">0.01</td>
<td align="right">31.32</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>Note that the estimated ATE is too high – over twice what it should be.</p>
<p>In contrast as seen in the next graph the <code>CausalQueries</code> estimate using <span class="math inline">\(X,Y\)</span> data only is low – close to our prior at 0 and estimated with wide posterior variance.</p>
<p>With full data on <span class="math inline">\(X, M\)</span> and <span class="math inline">\(Y\)</span> we get a tight estimate on the ATE, though our estimate of the nature of confounding is not identified—though it has much tighter bounds than before. With partial data on <span class="math inline">\(M\)</span> (100 cases out of 20000) we do nearly as well. A small amount of data is enough to narrow bounds on confounding and improve our estimates of the ATE considerably.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="mixing-methods.html#cb114-1" tabindex="-1"></a><span class="co"># X, Y data only</span></span>
<span id="cb114-2"><a href="mixing-methods.html#cb114-2" tabindex="-1"></a>updated_XY      <span class="ot">&lt;-</span> <span class="fu">update_model</span>(model, XY_data)</span>
<span id="cb114-3"><a href="mixing-methods.html#cb114-3" tabindex="-1"></a></span>
<span id="cb114-4"><a href="mixing-methods.html#cb114-4" tabindex="-1"></a><span class="co"># Full Data</span></span>
<span id="cb114-5"><a href="mixing-methods.html#cb114-5" tabindex="-1"></a>updated_full    <span class="ot">&lt;-</span> <span class="fu">update_model</span>(model, full_data)</span>
<span id="cb114-6"><a href="mixing-methods.html#cb114-6" tabindex="-1"></a></span>
<span id="cb114-7"><a href="mixing-methods.html#cb114-7" tabindex="-1"></a><span class="co"># Partial Data</span></span>
<span id="cb114-8"><a href="mixing-methods.html#cb114-8" tabindex="-1"></a>updated_partial <span class="ot">&lt;-</span> <span class="fu">update_model</span>(model, some_data)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:ch17mmfig"></span>
<img src="causalmodels_files/figure-html/ch17mmfig-1.png" alt="Red lines denote estimand values, black lines show posterior means. Full data allows narrowing of posterior variance on confounding and tight esimates of treatment effects. But even limited data on $M$ gets us quite far (bottom right panel)." width="672" />
<p class="caption">
Figure 10.1: Red lines denote estimand values, black lines show posterior means. Full data allows narrowing of posterior variance on confounding and tight esimates of treatment effects. But even limited data on <span class="math inline">\(M\)</span> gets us quite far (bottom right panel).
</p>
</div>
</div>
<div id="distinguishing-paths" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Distinguishing paths<a href="mixing-methods.html#distinguishing-paths" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here is another example of mixing methods where a little within-case data goes a long way. We imagine that available data makes us very confident that <span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span> but we want to know about channels. In such cases, with high confidence about overall effects, and <em>absent unobserved confounding</em>, a little data on mediators might be highly informative.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="mixing-methods.html#cb115-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">make_model</span>(<span class="st">&quot;X -&gt; M1 -&gt; Y &lt;- M2 &lt;- X&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb115-2"><a href="mixing-methods.html#cb115-2" tabindex="-1"></a>  <span class="fu">set_restrictions</span>(<span class="fu">c</span>(<span class="fu">decreasing</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;M1&quot;</span>), </span>
<span id="cb115-3"><a href="mixing-methods.html#cb115-3" tabindex="-1"></a>                     <span class="fu">decreasing</span>(<span class="st">&quot;M1&quot;</span>, <span class="st">&quot;Y&quot;</span>),</span>
<span id="cb115-4"><a href="mixing-methods.html#cb115-4" tabindex="-1"></a>                     <span class="fu">decreasing</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;M2&quot;</span>), </span>
<span id="cb115-5"><a href="mixing-methods.html#cb115-5" tabindex="-1"></a>                     <span class="fu">decreasing</span>(<span class="st">&quot;M2&quot;</span>, <span class="st">&quot;Y&quot;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb115-6"><a href="mixing-methods.html#cb115-6" tabindex="-1"></a>  <span class="fu">set_parameters</span>(<span class="at">node =</span> <span class="st">&quot;M1&quot;</span>, <span class="at">parameters =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">normalize=</span><span class="cn">FALSE</span>)  <span class="sc">|&gt;</span></span>
<span id="cb115-7"><a href="mixing-methods.html#cb115-7" tabindex="-1"></a>  <span class="fu">set_parameters</span>(<span class="at">node =</span> <span class="st">&quot;M2&quot;</span>, <span class="at">parameters =</span> <span class="fu">c</span>(.<span class="dv">5</span>, <span class="dv">0</span>,.<span class="dv">5</span>), <span class="at">normalize=</span><span class="cn">FALSE</span>)  <span class="sc">|&gt;</span></span>
<span id="cb115-8"><a href="mixing-methods.html#cb115-8" tabindex="-1"></a>  <span class="fu">set_parameters</span>(<span class="at">statement =</span> <span class="st">&quot;(Y[M1=1] == Y[M1=0])&quot;</span>, <span class="at">parameters =</span> <span class="dv">0</span>)  </span></code></pre></div>
<pre><code>## Warning in make_par_values(model, alter = &quot;param_value&quot;, x = parameters, : A specified condition matches multiple parameters. In these cases it is unclear which parameter value should be assigned to which parameter. Assignment thus defaults to the order in which parameters appear in &#39;parameters_df&#39;.
##               
##  We advise checking that parameter assignment was carried out as you intended.

## Warning in make_par_values(model, alter = &quot;param_value&quot;, x = parameters, : A specified condition matches multiple parameters. In these cases it is unclear which parameter value should be assigned to which parameter. Assignment thus defaults to the order in which parameters appear in &#39;parameters_df&#39;.
##               
##  We advise checking that parameter assignment was carried out as you intended.</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="mixing-methods.html#cb117-1" tabindex="-1"></a><span class="fu">plot</span>(model)</span></code></pre></div>
<p><img src="causalmodels_files/figure-html/apppaths-1.png" width="672" /></p>
<p>We imagine that in truth <span class="math inline">\(X\)</span> always causes <span class="math inline">\(Y\)</span> and it does so via <span class="math inline">\(M1\)</span>, though this is not known <em>ex ante</em>:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="mixing-methods.html#cb118-1" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">query_model</span>(model, </span>
<span id="cb118-2"><a href="mixing-methods.html#cb118-2" tabindex="-1"></a>  <span class="at">queries =</span> <span class="fu">list</span>(<span class="at">ate =</span> <span class="fu">te</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>), </span>
<span id="cb118-3"><a href="mixing-methods.html#cb118-3" tabindex="-1"></a>                 <span class="at">via_M1 =</span> <span class="st">&quot;(M1[X=1]&gt;M1[X=0]) &amp; (Y[M1=1]&gt;Y[M1=0])&quot;</span>, </span>
<span id="cb118-4"><a href="mixing-methods.html#cb118-4" tabindex="-1"></a>                 <span class="at">via_M2 =</span> <span class="st">&quot;(M2[X=1]&gt;M2[X=0]) &amp; (Y[M2=1]&gt;Y[M2=0])&quot;</span>), </span>
<span id="cb118-5"><a href="mixing-methods.html#cb118-5" tabindex="-1"></a>  <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;parameters&quot;</span>, <span class="st">&quot;priors&quot;</span>),</span>
<span id="cb118-6"><a href="mixing-methods.html#cb118-6" tabindex="-1"></a>  <span class="at">expand_grid =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<table style="width:100%;">
<caption><span id="tab:apppaths3">Table 10.1: </span>Priors and parameters</caption>
<colgroup>
<col width="9%" />
<col width="8%" />
<col width="13%" />
<col width="13%" />
<col width="8%" />
<col width="8%" />
<col width="17%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model</th>
<th align="left">query</th>
<th align="left">using</th>
<th align="left">case_level</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">cred.low.2.5%</th>
<th align="right">cred.high.97.5%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">ate</td>
<td align="left">parameters</td>
<td align="left">FALSE</td>
<td align="right">1.0000</td>
<td align="right"></td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">via_M1</td>
<td align="left">parameters</td>
<td align="left">FALSE</td>
<td align="right">1.0000</td>
<td align="right"></td>
<td align="right">1.0000</td>
<td align="right">1.0000</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">via_M2</td>
<td align="left">parameters</td>
<td align="left">FALSE</td>
<td align="right">0.0000</td>
<td align="right"></td>
<td align="right">0.0000</td>
<td align="right">0.0000</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">ate</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.2230</td>
<td align="right">0.1396</td>
<td align="right">0.0300</td>
<td align="right">0.5470</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">via_M1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.1131</td>
<td align="right">0.1024</td>
<td align="right">0.0034</td>
<td align="right">0.3807</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">via_M2</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.1098</td>
<td align="right">0.1005</td>
<td align="right">0.0031</td>
<td align="right">0.3696</td>
</tr>
</tbody>
</table>
<p>Now suppose we have access to large <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span>, data.</p>
<table>
<caption><span id="tab:apppath4">Table 10.2: </span>Inferences with 1000 observations; data on X, Y, only</caption>
<colgroup>
<col width="9%" />
<col width="8%" />
<col width="6%" />
<col width="12%" />
<col width="12%" />
<col width="8%" />
<col width="8%" />
<col width="16%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model</th>
<th align="left">query</th>
<th align="left">given</th>
<th align="left">using</th>
<th align="left">case_level</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">cred.low.2.5%</th>
<th align="right">cred.high.97.5%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">ate</td>
<td align="left">-</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.9882</td>
<td align="right">0.0048</td>
<td align="right">0.9769</td>
<td align="right">0.9956</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">via_M1</td>
<td align="left">-</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.5002</td>
<td align="right">0.2295</td>
<td align="right">0.0507</td>
<td align="right">0.9489</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">via_M2</td>
<td align="left">-</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.4880</td>
<td align="right">0.2295</td>
<td align="right">0.0375</td>
<td align="right">0.9354</td>
</tr>
</tbody>
</table>
<p>We infer that that <span class="math inline">\(X\)</span> certainly causes <span class="math inline">\(Y\)</span>. But we are unsure about channels.</p>
<p>However, this changes dramatically with data on <span class="math inline">\(M_1\)</span> and <span class="math inline">\(M_2\)</span>. Here we assume data on only 20 cases.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="mixing-methods.html#cb119-1" tabindex="-1"></a><span class="fu">query_model</span>(updated_mixed, </span>
<span id="cb119-2"><a href="mixing-methods.html#cb119-2" tabindex="-1"></a>  <span class="at">queries =</span> <span class="fu">list</span>(<span class="at">ate =</span> <span class="fu">te</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>), </span>
<span id="cb119-3"><a href="mixing-methods.html#cb119-3" tabindex="-1"></a>                 <span class="at">via_M1 =</span> <span class="st">&quot;(M1[X=1]&gt;M1[X=0]) &amp; (Y[M1=1]&gt;Y[M1=0])&quot;</span>, </span>
<span id="cb119-4"><a href="mixing-methods.html#cb119-4" tabindex="-1"></a>                 <span class="at">via_M2 =</span> <span class="st">&quot;(M2[X=1]&gt;M2[X=0]) &amp; (Y[M2=1]&gt;Y[M2=0])&quot;</span>), </span>
<span id="cb119-5"><a href="mixing-methods.html#cb119-5" tabindex="-1"></a>  <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;posteriors&quot;</span>),</span>
<span id="cb119-6"><a href="mixing-methods.html#cb119-6" tabindex="-1"></a>  <span class="at">expand_grid =</span> <span class="cn">TRUE</span>)  <span class="sc">|&gt;</span> <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">&quot;Inferences with 1000 observations for X, Y,  20 observations for M1, M2&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:apppaths6">Table 10.3: </span>Inferences with 1000 observations for X, Y, 20 observations for M1, M2</caption>
<colgroup>
<col width="9%" />
<col width="8%" />
<col width="6%" />
<col width="12%" />
<col width="12%" />
<col width="8%" />
<col width="8%" />
<col width="16%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model</th>
<th align="left">query</th>
<th align="left">given</th>
<th align="left">using</th>
<th align="left">case_level</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">cred.low.2.5%</th>
<th align="right">cred.high.97.5%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">ate</td>
<td align="left">-</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.9862</td>
<td align="right">0.0052</td>
<td align="right">0.9742</td>
<td align="right">0.9943</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">via_M1</td>
<td align="left">-</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.9823</td>
<td align="right">0.0080</td>
<td align="right">0.9631</td>
<td align="right">0.9933</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">via_M2</td>
<td align="left">-</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.0039</td>
<td align="right">0.0047</td>
<td align="right">0.0001</td>
<td align="right">0.0169</td>
</tr>
</tbody>
</table>
<p>The data now convinces us that <span class="math inline">\(X\)</span> must work only through one channel. Thus, again, small within case data can dramatically alter conclusions from large <span class="math inline">\(N\)</span> data when that data has little discriminatory power for the estimands of interest.</p>
</div>
<div id="nothing-from-nothing" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Nothing from nothing<a href="mixing-methods.html#nothing-from-nothing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many of the models we have looked at—especially for process tracing—have a lot of structure, viz:</p>
<ul>
<li>conditional independence assumptions</li>
<li>no confounding assumptions, and</li>
<li>monotonicity assumptions, or other restrictions</li>
</ul>
<p>What happens if you have none of these? Can access to observational data render clues meaningful for inferences on causal effects?</p>
<p>We show the scope for learning from a mediator for a “good case”—a world in which in fact (though unknown <em>ex ante</em> to the researcher):</p>
<ul>
<li><span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span> through <span class="math inline">\(M\)</span></li>
<li><span class="math inline">\(X\)</span> is a necessary condition for <span class="math inline">\(M\)</span> and <span class="math inline">\(M\)</span> is a sufficient condition for <span class="math inline">\(Y\)</span> – and so <span class="math inline">\(Y\)</span> is monotonic in <span class="math inline">\(X\)</span> and</li>
<li>there is no confounding</li>
</ul>
<p>Here is the data:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="mixing-methods.html#cb120-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">make_model</span>(<span class="st">&quot;X -&gt; M -&gt; Y&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb120-2"><a href="mixing-methods.html#cb120-2" tabindex="-1"></a>  </span>
<span id="cb120-3"><a href="mixing-methods.html#cb120-3" tabindex="-1"></a>        <span class="fu">make_data</span>(<span class="at">n =</span> <span class="dv">2000</span>, </span>
<span id="cb120-4"><a href="mixing-methods.html#cb120-4" tabindex="-1"></a>                  <span class="at">parameters =</span> <span class="fu">c</span>(.<span class="dv">5</span>, .<span class="dv">5</span>, .<span class="dv">2</span>, <span class="dv">0</span>, .<span class="dv">8</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, .<span class="dv">8</span>, .<span class="dv">2</span>))</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-107">Table 10.4: </span>Data contains strong correlations.</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">X</th>
<th align="right">M</th>
<th align="right">Y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">X</td>
<td align="right">1.00</td>
<td align="right">0.81</td>
<td align="right">0.61</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="right">0.81</td>
<td align="right">1.00</td>
<td align="right">0.77</td>
</tr>
<tr class="odd">
<td align="left">Y</td>
<td align="right">0.61</td>
<td align="right">0.77</td>
<td align="right">1.00</td>
</tr>
</tbody>
</table>
<p>We imagine inferences are made starting from two types of model. In both we allow all possible links and we impose no restrictions on nodal types. Even though there are only three nodes, this model has 128 causal types (<span class="math inline">\(2\times 4 \times 16\)</span>). In addition:</p>
<ul>
<li><p>In <code>model_1</code> we allow confounding between all pairs of nodes. This results in 127 free parameters.</p></li>
<li><p>In <code>model_2</code> we assume that <span class="math inline">\(X\)</span> is known to be randomized. There are now only 64 free parameters.</p></li>
</ul>
<p>Here are the models:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="mixing-methods.html#cb121-1" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> </span>
<span id="cb121-2"><a href="mixing-methods.html#cb121-2" tabindex="-1"></a>  <span class="fu">make_model</span>(<span class="st">&quot;X -&gt; M -&gt; Y &lt;- X; X &lt;-&gt; M; M &lt;-&gt;Y; X &lt;-&gt; Y&quot;</span>) </span>
<span id="cb121-3"><a href="mixing-methods.html#cb121-3" tabindex="-1"></a></span>
<span id="cb121-4"><a href="mixing-methods.html#cb121-4" tabindex="-1"></a>model_2 <span class="ot">&lt;-</span> </span>
<span id="cb121-5"><a href="mixing-methods.html#cb121-5" tabindex="-1"></a>  <span class="fu">make_model</span>(<span class="st">&quot;X -&gt; M -&gt; Y &lt;- X; M &lt;-&gt;Y&quot;</span>) </span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-108-1"></span>
<img src="causalmodels_files/figure-html/unnamed-chunk-108-1.png" alt="Two models. The model on the right might be justified if $X$ is known to be randomized." width="672" />
<p class="caption">
Figure 10.2: Two models. The model on the right might be justified if <span class="math inline">\(X\)</span> is known to be randomized.
</p>
</div>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-108-2"></span>
<img src="causalmodels_files/figure-html/unnamed-chunk-108-2.png" alt="Two models. The model on the right might be justified if $X$ is known to be randomized." width="672" />
<p class="caption">
Figure 10.3: Two models. The model on the right might be justified if <span class="math inline">\(X\)</span> is known to be randomized.
</p>
</div>
<p>After updating we query the models to see how inferences depend on <span class="math inline">\(M\)</span> like this:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="mixing-methods.html#cb122-1" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> <span class="fu">update_model</span>(model_1, data, <span class="at">iter =</span> <span class="dv">6000</span>)</span>
<span id="cb122-2"><a href="mixing-methods.html#cb122-2" tabindex="-1"></a></span>
<span id="cb122-3"><a href="mixing-methods.html#cb122-3" tabindex="-1"></a><span class="fu">query_model</span>(model_1, </span>
<span id="cb122-4"><a href="mixing-methods.html#cb122-4" tabindex="-1"></a>            <span class="at">queries =</span> <span class="st">&quot;Y[X=1] &gt; Y[X=0]&quot;</span>,</span>
<span id="cb122-5"><a href="mixing-methods.html#cb122-5" tabindex="-1"></a>            <span class="at">given =</span> <span class="fu">c</span>(<span class="st">&quot;X==1 &amp; Y==1&quot;</span>, <span class="st">&quot;X==1 &amp; M==1 &amp; Y==1&quot;</span>),</span>
<span id="cb122-6"><a href="mixing-methods.html#cb122-6" tabindex="-1"></a>            <span class="at">using =</span> <span class="fu">c</span>(<span class="st">&quot;priors&quot;</span>, <span class="st">&quot;posteriors&quot;</span>), </span>
<span id="cb122-7"><a href="mixing-methods.html#cb122-7" tabindex="-1"></a>            <span class="at">expand_grid =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-110">Table 10.5: </span>Can observation of large N data render mediator <span class="math inline">\(M\)</span> informative for case level inference? Observational data.</caption>
<colgroup>
<col width="7%" />
<col width="14%" />
<col width="17%" />
<col width="10%" />
<col width="10%" />
<col width="6%" />
<col width="6%" />
<col width="12%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model</th>
<th align="left">query</th>
<th align="left">given</th>
<th align="left">using</th>
<th align="left">case_level</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">cred.low.2.5%</th>
<th align="right">cred.high.97.5%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; Y==1</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.5004</td>
<td align="right">0.1569</td>
<td align="right">0.2042</td>
<td align="right">0.8002</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==1 &amp; Y==1</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.5005</td>
<td align="right">0.1662</td>
<td align="right">0.1871</td>
<td align="right">0.8176</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==0 &amp; Y==1</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.5001</td>
<td align="right">0.1378</td>
<td align="right">0.2368</td>
<td align="right">0.7660</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; Y==1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.4999</td>
<td align="right">0.1048</td>
<td align="right">0.2941</td>
<td align="right">0.7047</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==1 &amp; Y==1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.4990</td>
<td align="right">0.1338</td>
<td align="right">0.2347</td>
<td align="right">0.7522</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==0 &amp; Y==1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.4996</td>
<td align="right">0.1369</td>
<td align="right">0.2430</td>
<td align="right">0.7670</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:unnamed-chunk-110">Table 10.5: </span>Can observation of large N data render mediator <span class="math inline">\(M\)</span> informative for case level inference? X randomized.</caption>
<colgroup>
<col width="7%" />
<col width="14%" />
<col width="17%" />
<col width="10%" />
<col width="10%" />
<col width="6%" />
<col width="6%" />
<col width="12%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model</th>
<th align="left">query</th>
<th align="left">given</th>
<th align="left">using</th>
<th align="left">case_level</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">cred.low.2.5%</th>
<th align="right">cred.high.97.5%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; Y==1</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.8460</td>
<td align="right">0.0288</td>
<td align="right">0.7926</td>
<td align="right">0.9048</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==1 &amp; Y==1</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.8642</td>
<td align="right">0.0314</td>
<td align="right">0.8054</td>
<td align="right">0.9270</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==0 &amp; Y==1</td>
<td align="left">posteriors</td>
<td align="left">FALSE</td>
<td align="right">0.5298</td>
<td align="right">0.1630</td>
<td align="right">0.2136</td>
<td align="right">0.8296</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; Y==1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.5016</td>
<td align="right">0.1056</td>
<td align="right">0.2921</td>
<td align="right">0.7094</td>
</tr>
<tr class="odd">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==1 &amp; Y==1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.5011</td>
<td align="right">0.1339</td>
<td align="right">0.2451</td>
<td align="right">0.7565</td>
</tr>
<tr class="even">
<td align="left">model_1</td>
<td align="left">Y[X=1] &gt; Y[X=0]</td>
<td align="left">X==1 &amp; M==0 &amp; Y==1</td>
<td align="left">priors</td>
<td align="left">FALSE</td>
<td align="right">0.5012</td>
<td align="right">0.1371</td>
<td align="right">0.2305</td>
<td align="right">0.7686</td>
</tr>
</tbody>
</table>
<p>We find that even with an auspicious monotonic data generating process in which <span class="math inline">\(M\)</span> is a total mediator, <span class="math inline">\(M\)</span> gives no traction on causal inference in Model 1 but it gives considerable leverage in Model 2: <span class="math inline">\(M\)</span> is informative, especially if <span class="math inline">\(M=0\)</span>, when <span class="math inline">\(X\)</span> is known to be randomized, but it provides essentially no guidance if it is not.</p>
</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-humphreys2015mixing" class="csl-entry">
Humphreys, Macartan, and Alan M Jacobs. 2015. <span>“Mixing Methods: A Bayesian Approach.”</span> <em>American Political Science Review</em> 109 (04): 653–73.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="identification.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="external-validity-and-inference-aggregation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false,
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["causalmodels.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
