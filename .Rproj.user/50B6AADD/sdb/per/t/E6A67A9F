{
    "collab_server" : "",
    "contents" : "# Application: Process Tracing with a Causal Model\n\n\n```{r, include = FALSE}\nsource(\"hj_dag.R\")\nsource(\"function_perm.R\")\n```\n\n**\\color{blue}Key points: We apply the causal-model-based approach to process tracing to a major substantive issue in comparative politics: the relationship between inequality and democratization. We illustrate how one can convert theories in this domain into relatively simple causal models. Drawing on data from Haggard and Kaufman (2012), we use qualitative (and, then, quantitative) restrictions on priors to draw inferences about the probabilty with which inequality facilitated or hindered democratization.**\n<!-- We show that systematically integrating theory into process tracing has substantial implications for inference. We also show how inferences depend on how exactly one specifies the causal model.** -->\n\n\n```{r setup, include=FALSE}\nlibrary(knitr)\nknitr::opts_chunk$set(echo = TRUE)\nlibrary(biqq)\nits <- 10101   # Ramp up for greater accuracy\n```\n\n\n\n```{r loadUDs, include = FALSE}\nUDs <- read.csv(\"Notes and other/ineq_democ_lambdascorrected.csv\")\nUDs <- UDs[,c(1,3,2,4,5,7,6,8)] # Reorder to reflect PIMD ordering\n\nperms <- perm(c(2,2,2)); colnames(perms) <- c(\"P\", \"I\", \"M\")\nkable(perms, caption = \"Data permutations considered\")              \n```\n\nIn this chapter, we demonstrate how causal-model-based process-tracing works using real data. We undertake this illustration on a substantive issue that has been of central interest to students of comparative politics for decades: the causes of democratization. As the literature and range of arguments about democratization are vast, we focus on just a piece of the debate---specifically on causal claims about the relationship between economic inequality and democratization, with particular attention to the work of @boix2003democracy, @acemoglu2005economic, and @haggard2012inequality. In this chapter, we demonstrate process tracing with causal models, while in a later chapter we demonstrate the integration of process-tracing with correlational analysis. Our focus in this chapter is on using process tracing to assess *the case-level causal effect of inequality on democracy.*\n\n\n\n##Inequality and Democratization: The Debate\n\nSociologists, economists, and political scientists have long theorized and empirically examined the relationship between inequality and democracy (e.g., @dahl1973polyarchy, @bollen1985political, @acemoglu2005economic, @boix2003democracy, @ansell2014inequality). In recent years, the work of @boix2003democracy,  @acemoglu2005economic, and @ansell2014inequality represent major theoretical advances in specifying when and how inequality might generate transitions to democracy (as well as its persistence, which we bracket here). The first and third of these books also provide large-n cross-national and historical tests of their theories' key correlational predictions. @haggard2012inequality, moreover, derive causal process observations from a large number of \"Third Wave\" cases of democratization in order to examine these theories' claims about the centrality of distributional issues to regime change. We provide a very condensed summary of the core logic of @boix2003democracy and @acemoglu2005economic before seeking to translate that logic into a causal model for the purposes of process tracing, using a transformed version of Haggard and Kaufman's causal-process data.\n\nWe briefly summarize the core logics of and differences among these three sets of arguments here, bracketing many of their moving parts to focus on the basic theorized relationship between inequality and democracy. Both Boix's and Acemoglu and Robinson's theories operate within a Meltzer-Richard (@meltzer1981rational) framework in which, in a democracy, the median voter sets the level of taxation-and-transfer and, since mean income is higher than median income, benefit from and vote for a positive tax rate, implying redistribution from rich to poor. The poorer the median voter, the more redistribution she will prefer. Democracy, with its poorer median voter, thus implies greater redistribution than (rightwing) authoritarianism---a better material position from the poor at the expense of the rich elite. Thus, in each of these approaches, struggles over political regimes are conflicts over the distribution of material resources.\n\nIn Boix's model, the poor generally prefer democracy for its material benefits. When they mobilize to demand regime change, the rich face a choice as to whether to repress or concede, and they are more likely to repress as inequality is higher since, all else equal, they have more to lose from democracy. Thus, with the poor always preferring democracy over rightwing authoritarianism, inequality reduces the prospects for democratization. \n\nIn Acemoglu and Robinson's model, inequality simultaneously affects the expected net gains to democracy for both rich and poor. At low levels of inequality, democracy is relatively unthreatening to the elite, as in Boix, but likewise of little benefit to the poor. Since regime change is costly, the poor do not mobilize for democracy when inequality is low, and democratization does not occur. At high levels of inequality, democracy is of great benefit to the poor but has high expected costs for the elite; thus, democratization does not occur because the elite repress popular demands for regime change. In Acemoglu and Robinson's model, democracy emerges only when inequality is at middling levels: high enough for the poor to demand it and low enough for the rich to be willing to concede it.\n\nAnsell and Samuels, finally, complicate the distributive politics of regime change in two key ways. First, they allow for a two-sector economy, with a governing elite comprising the landed aristocracy and an urban industrial elite excluded from political power under authoritarian institutions. Total inequality in the economy is a function of inequality in the landed sector, inequality in the industrial sector, and the relative size of each. Second, authoritarian (landed) elites can tax the industrial bourgeoisie, thus giving the industrial elite an incentive to seek constraints on autocratic rule. Third, in Ansell and Samuels' model, rising industrial inequality means a rising industrial elite, generating a larger gap between them and industrial workers, though the industrial masses are richer than the peasantry. A number of results follow, of which we highlight just a couple. Rising land inequality reduces the likelihood of bourgeois rebellion by giving the landed elite greater repressive capacities and increasing their expected losses under democracy. As industrial inequality rises, however, the industrial elite have more to lose to confiscatory taxation and thus greater incentive to push for partial democracy (in which they have the ability to constrain the government, though the poor remain politically excluded) as well as greater resources with which to mobilize and achieve it. Full democracy, brought on by joint mass and bourgeois rebellion, is most likely as the industrial sector grows in relative size, giving the urban masses more to lose to autocratic expropriation and more resources with which to mobilize and rebel. \n\nThese three theoretical frameworks thus posit rather differing relationships between inequality and democracy. Taking these theoretical logics as forms of background knowledge, we would consider it possible that inequality reduces the likelihood of democracy or that it increases the likelihood of democracy. Yet one feature that all three theories have in common is a claim that distributional grievances drive demands for regime change. Moreover, in both Boix and Acemoglu and Robinson, less economically advantaged groups are, all else equal, more likely to demand democracy the worse their relative economic position.  Ansell and Samuels' model, on the other hand, suggests that relative deprivation may cut both ways: while poorer groups may have more to gain from redistribution under democracy, better-off groups have more to fear from confiscatory taxation under autocracy. In all three frameworks, *mobilization* by groups with material grievances is critical to transitions to democracy: elites do not voluntarily cede power.\n\nIn their qualitative analysis of \"Third Wave\" democratizations, Haggard and Kaufman point to additional factors, aside from inequality, that may generate transitions. Drawing on previous work on 20th century democratic transitions (e.g., @huntington1993third, @linz1996problems), they pay particular attention to international pressures to democratize and to elite defections. \n\n## Inequality and Democratization: A Structural Causal Model\n\nWe now need to express this background knowledge in the form of a structural causal model. Suppose that we are interested in the case-level causal effect of inequality on democratization of a previously autocratic political system. Suppose further, to simplify the illustration, that we conceptualize both variables in binary terms: inequality is either high or low, and democratization either occurs or does not occur. This means that we want to know, for a given case of interest, whether high inequality (as opposed to low inequality) causes democracy to emerge, prevents democracy from emerging, or has no effect (i.e., with democratization either occurring or not occurring independent of inequality). We can represent this query in the simple, high-level causal model shown in Figure \\ref{fig:highdem}. Here, the question, \"What is the causal effect of high inequality on democratization in this case?\" is equivalent to asking what the value of $U_D$ is in the case, where the possible values are $t_{00}^D, t_{01}^D, t_{10}^D$, and $t_{11}^D$. We assume here that the case's response type, $U_D$, is not itself observable, and thus we are in the position of having to make inferences about it.\n\nDrawing on the grammar of causal graphs discussed in Chapter 5, we can already identify possibilities for learning about $U_D$ from the other nodes represented in this high-level graph. Merely observing the level of inequality in a case will tell us nothing since $I$ is not $d-$connected to $U_D$ if we have observed nothing else. On the other hand, only observing the outcome---regime type---in a case *can* give us information about $U_D$ since $D$ *is* $d-$connected to $U_D$. For instance, if we observe $D=1$ (that a case democratized), then we can immediately rule out $t_{00}^D$ as a value of $U_D$ since this type does not permit democratization to occur. Further, conditional on observing $D$, $I$ is now $d-$connected to $U_D$: in other words, having observed the outcome, we can additionally learn about the case's type from observing the status of the causal variable. For example, if $D=1$, then observing $I=1$ allows us additionally to rule out the value $t_{10}^D$ (a negative causal effect).\n\nNow, observing just $I$ and $D$ alone will always leave two response types in contention. For instance, seeing $I=D=1$ (the case had high inequality and democratized) would leave us unsure whether high inequality caused the democratization in this case ($U_D=t_{01}^D$) or the democratization would have happened anyway ($U_D=t_{11}^D$). This is a limitation of $X, Y$ data that we refer to in @humphreys2015mixing as the \"fundamental problem of type ambiguity.\" Note that this does not mean that we will be left indifferent between the two remaining types. Learning from $X, Y$ data alone---narrowing the types down to two---can be quite significant, depending on our priors over the distribution of types. For example, if we previously believed that a $t_{00}^D$ type (cases in which democracy will never occur, regardless of inequality) was much more likely than a $t_{11}^D$ type (democracy will always occur, regardless of inequality) and that positive and negative effects of inequality were about equally likely, then ruling out the $t_{00}^D$ and $t_{10}^D$ values for a case will shift us toward the belief that inequality caused democratization in the case.^[This is because we are ruling out both a negative effect and the type of null effect that we had considered the most likely, leaving a null effect that we consider relatively unlikely.]\n\n```{r dagdemochigh, echo = FALSE, fig.width = 7, fig.height = 5, fig.align=\"center\", out.width='.7\\\\textwidth', fig.cap = \"\\\\label{fig:highdem}\"}\n\nhj_dag(x = c(1,2,2),\n       y = c(1,1,2),\n       names = c(\n         \"Inequality (I)\",\n         \"Democratization (D)\",  \n         expression(paste(U[D]))\n         ),\n       arcs = cbind( c(1,3),\n                     c(2,2)),\n       title = \"A high-level model of democratization\",\n       add_functions = 0, \n       contraction = .28, \n       padding = .2\n)\n\n\n```\n\n\nNonetheless, we can increase the prospects for learning by *theorizing* the relationship between inequality and democratization. Given causal logics and empirical findings in the existing literature, we can say more than is contained in Figure \\ref{fig:highdem} about the possible structure of the causal linkages between inequality and democratization. And we can embed this prior knowledge of the possible causal relations in this domain in a lower-level model that is consistent with the high-level model that most simply represents our query. If we were to seek to fully capture them, the models developed by Boix, Acemoglu and Robinson, and Ansell and Samuels would, each individually, suggest causal graphs with a large number of nodes and edges connecting them. Representing all variables and relationships jointly contained in these three models would take an extremely complex graph. Yet there is no need to go down to the lowest possible level---to generate the *most* detailed graph---in order to increase our empirical leverage on the problem.\n\nWe represent in Figure \\ref{fig:lowdem} one possible lower-level model consistent with our high-level model. Drawing on causal logics in the existing literature, we unpack the nodes in the high-level model in two ways:\n\n\\begin{enumerate}\n\n\\item We interpose a mediator between inequality and democratization: mobilization ($M$) by economically disadvantaged groups expressing material grievances. $M$ is a function of both $I$ and of its own response-type variable, $U_M$, which defines its response to $I$. In inserting this mediator, we have extracted $U_M$ from $U_D$, pulling out that part of $D$'s response to $I$ that depends on $M$'s response to $I$.\n\n\\item We specify a second influence on democratization, international pressure ($P$). Like $U_M$, $P$ has also been extracted from $U_D$; it represents that part of $D$'s response to $I$ that is conditioned by international pressures.\n\n\\end{enumerate}\n\n\n```{r, echo = FALSE, fig.width = 7, fig.height = 5, fig.align=\"center\", out.width='.7\\\\textwidth', fig.cap = \"\\\\label{fig:lowdem} A lower-level model of democratization in which inequality may affect regime type both directly and through mobilization of the lower classes, and international pressure may also affect regime type.\"}\n\nhj_dag(x = c(1,1.5,3,3, 1.5, 2.2),\n       y = c(1,2,2,3, 3, 3),\n       names = c(\n         \"I\",\n        \"Mobilization (M)\",  \n         \"D\",  \n         expression(paste(U[D]^{lower})),\n        expression(paste(U[M])),\n         \"Int'l pressure (P)\"\n         ),\n       arcs = cbind( c(1,2, 4, 6, 5, 1),\n                     c(2,3, 3, 3, 2, 3)),\n       title = \"A lower-level model of democratization\",\n       add_functions = 0, \n       contraction = .2, \n       padding = .2\n)\n\n\n```\n\n\n\nIn representing the causal dependencies in this graph, we allow for inequality to have (in the language of mediation analysis) both an \"indirect\" effect on democratization via mobilization and a \"direct\" effect. The arrow running directly from $I$ to $D$ allows for effects of inequality on democratization beyond any effects running via mobilization of the poor, including effects that might run in the opposite direction. (For instance, it is possible that inequality has a positive effect on democratization via mobilization but a negative effect via any number of processes that are not explicitly specified in the model.)  The graph also implies that there is no confounding: since there is no arrow running from another variable in the graph to $I$, $I$ is assigned as-if randomly.\n\nThe lower-level graph thus has two exogenous, response-type nodes that will be relevant to assessing causal effects: $U_M$ and $U_D^{lower}$. $U_M$, capturing $I$'s effect on $M$, ranges across the usual four values for a single-cause, binary setup: $t_{00}^M, t_{01}^M, t_{10}^M$, and $t_{11}^M$. \n\n$U_D^{lower}$ is considerably more complicated, however, because this node represents $D$'s response to three causal variables: $I$, $M$, and $P$. One way to put this is that the values of $U_D^{lower}$ indicate how inequality's direct effect will depend on mobilization (and vice versa), conditional on whether or not there is international pressure. We need more complex notation than that introduced in Chapter 5 in order to represent the possible response types here. In Chapter 5, we used $t_{ij}^{gh}$ to represent the potential outcomes for the four combinations of values that two binary variables can take on. With a third binary variable, we now use left as well as right super- and subscripts, as in: $_{ij}^{gh}t_{mn}^{kl}$. In the current application, we let the left scripts represent the values that $D$ will take on for different values of $I$ and $M$ *when P=0* while the right scripts represent $D$'s potential outcomes for different values of $I$ and $M$ *when P=1*. For each set of four scripts (left or right), moving horizontally from left to right represents a move from $I=0$ to $I=1$, while moving vertically from bottom to top represents a move from $M=0$ to $M=1$. (In other words, we can think of there being a separate $I$-by-$M$ graph on either side of $t$, one for $P=0$ and one for $P=1$, each with the origin in the lower lefthand corner.)\n\nThus, to illustrate, $n$ represents the value that $D$ will take on when $I=1, M=0$, and $P=1$, while $j$ represents the outcome for those same values of $I$ and $M$ but when $P=0$. Filling in numbers, $_{01}^{01}t_{10}^{10}$ represents a type in which inequality always (regardless of mobilization) has a positive direct effect on democratization when $P=0$ and always has a negative direct effect on democratization when $P=1$; in which mobilization itself never has an effect; and in which international pressure has a positive effect when inequality is low but a negative effect when inequality is high.\n\nThe result is $2^8=256$ possible response types for $D$. With 4 response types for $M$, we thus have 1024 possible combinations of causal effects between named variables in the lower-level graph. How does these lower-level response types map onto the higher-level response types that are of interest? In other words, which combinations of lower-level types represent a positive, negative, or zero causal effect of inequality on democratization? \n\nTo define a  causal effect of $I$ in this setup, we need to define the \"joint effect\" of two variables as being the effect of changing both variables simultaneously (in the same direction, unless otherwise specified). Thus, the joint effect of $I$ and $M$ on $D$ is positive if changing both $I$ and $M$ from $0$ to $1$ changes $D$ from $0$ to $1$. We can likewise refer to the joint effect of an increase in one variable and a decrease in another. Given this definition, a positive causal effect of inequality on democratization emerges for any of the following three sets of lower-level response patterns:\n\n\n1. **Linked positive mediated effects.** $I$ has a positive effect on $M$; and $I$ and $M$ have a \\textit{joint} positive effect on $D$ when $P$ takes on whatever value it takes on in the case. Formally, this condition is satisfied when $U_M=t^M_{01}$ and $U^D_{lower}$ takes on any value consistent with $_{0j}^{g1}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{0n}^{k1}$ if $P=1$.\n\n2. **Linked negative mediated effects** $I$ has a negative effect on $M$; and $I$ and $M$ have a \\textit{joint} negative effect on $D$ when $P$ takes on whatever value it takes on in the case. This condition is satisfied when $U_M=t^M_{10}$ and $U^D_{lower}$ takes on any value consistent with $_{i1}^{0h}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{m1}^{0l}$ if $P=1$.\n\n3. **Positive direct effect** $I$ has no effect on $M$ and $I$ has a positive effect on $D$ at whatever value $M$ is fixed at and whatever value $P$ takes on in the case. This condition is satisfied when $U_M=t^M_{00}$ and $U^D_{lower}$ takes on any value consistent with $_{01}^{gh}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{01}^{kl}$ if $P=1$; or when $U_M=t^M_{11}$ and $U^D_{lower}$ takes on any value consistent with $_{ij}^{01}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{mn}^{01}$ if $P=1$.\n\n\nIf we start out with a case in which inequality is high and democratization has not occurred (or inequality is low and democratization *has* occurred), we will be interested in the possibility of a negative causal effect. A negative causal effect of inequality on democratization emerges for any of the following three sets of lower-level response patterns:\n\n\n4. **Positive, then negative mediated effects** $I$ has a positive effect on $M$; and $I$ and $M$ have a \\textit{joint} negative effect on $D$ when $P$ takes on whatever value it takes on in the case. This condition is satisfied when $U_M=t^M_{01}$ and $U^D_{lower}$ takes on any value consistent with $_{1j}^{g0}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{1n}^{k0}$ if $P=1$.\n\n5. **Negative, then joint negative mediated effects** $I$ has a negative effect on $M$; and jointly increasing $I$ while decreasing $M$ generates a decrease in $D$ when $P$ takes on whatever value it takes on in the case. This condition is satisfied when $U_M=t^M_{10}$ and $U^D_{lower}$ takes on any value consistent with $_{i0}^{1h}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{m0}^{1l}$ if $P=1$.\n\n6. **Negative direct effects** $I$ has no effect on $M$ and $I$ has a negative effect on $D$ at whatever value $M$ is fixed at and whatever value $P$ takes on in the case. This condition is satisfied when $U_M=t^M_{00}$ and $U^D_{lower}$ takes on any value consistent with $_{10}^{gh}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{10}^{kl}$ if $P=1$; or when $U_M=t^M_{11}$ and $U^D_{lower}$ takes on any value consistent with $_{ij}^{10}t_{mn}^{kl}$ if $P=0$ or with $_{ij}^{gh}t_{mn}^{10}$ if $P=1$.\n\nFinally, all other response patterns yield *no* effect of inequality on democratization.\n\nThus, for a case in which $I=D=1$, our query amounts to assessing the probability that $U_M$ and $U^D_{lower}$ jointly take on values falling into conditions 1, 2, or 3. And for a case in which $I \\neq D$, where we entertain the possibility of a negative effect, our query is an assessment of the probability of conditions 4, 5, and 6.\n\n##Inequality and Democratization: Forming Priors\n\nWe now need to express prior beliefs about the probability distribution from which values of $U_M$ and $U^D_{lower}$ are drawn. We place structure on this problem by drawing a set of beliefs about the likelihood or monotonicity of effects and interactions among variables from the theories in Boix, Acemoglu and Robinson, and Ansell and Samuels. As a heuristic device, we weight more heavily those propositions that are more widely shared across the three works than those that are consistent with only one of the frameworks. We intend this part of the exercise to be merely illustrative of how one might go about forming priors from an existing base of knowledge; there are undoubtedly other ways in which one could do so from the inequality and democracy literature.\n\nSpecifically, the belief that we embed in our priors about $U_M$ is:\n\n*  **Monotonicity of $I$'s effect on $M$**: In Acemoglu and Robinson, inequality should generally increase the chances of---and, in Boix, should never prevent---mobilization by the poor. Only in Ansell and Samuels' model does inequality have a partial downward effect on the poor's demand for democracy insofar as improved material welfare for the poor increases the chances of autocratic expropriation; and this effect is countervailed by the greater redistributive gains that the poor will enjoy under democracy as inequality rises.^[In addition, as the industrial bourgeoisie become richer, which increases the Gini, this group faces a greater risk of autocratic expropriation. If we consider the rising bourgeosie's mobilization to be mobilization by a materially disadvantaged group, then this constitutes an additional positive effect of inequality on mobilization.] Consistent with the weight of prior theory on this effect, in our initial run of the analysis, we rule out negative effects of $I$ on $M$. We are indifferent in our priors between positive and null effects and between the two types of null effects (mobilization always occurring or never occurring, regardless of the level of inequality). We thus set our prior on $U^M$ as: $p(U^M=t^M_{10})=0.0$, $p(U^M=t^M_{00})=0.25$, $p(U^M=t^M_{11})=0.25$, and $p(U^M=t^M_{01})=0.5$. We relax this monotonicity assumption, to account for the Ansell and Samuels logic, in a second run of the analysis.\n\nFor our prior on democracy's responses to inequality, mobilization, and international pressure ($U^D_{lower}$), we extract the following beliefs from the literature:\n\n*  **Monotonicity of direct $I$ effect: no positive effect**: In none of the three theories does inequality promote democratization via a pathway *other than* via the poor's rising demand for it. In all three theories, inequality has a distinct negative effect on democratization via an increase in the elite's expected losses under democracy and thus its willingness to repress. In Ansell and Samuels, the distribution of resources also affects the probability of success of rebellion; thus higher inequality also reduces the prospects for democratization by strengthening the elite's hold on power. We thus set a zero prior probability on all types in which $I$'s direct effect on $D$ is positive for any value of $P$. This excludes all of the families of type  $_{01}^{xx}t_{xx}^{xx}$,  $_{xx}^{01}t_{xx}^{xx}$, $_{xx}^{xx}t_{01}^{xx}$, and  $_{xx}^{xx}t_{xx}^{01}$. Apologies for dense notation.\n\n* **Monotonicity of $M$'s effect: no negative effect**: In none of the three theories does mobilization reduce the prospects of democratization. We thus set a zero probability on all types in which $M$'s effect on $D$ is negative at any value of $I$ or $P$. This excludes all of the families of type  $_{1x}^{0x}t_{xx}^{xx}$, $_{x1}^{x0}t_{xx}^{xx}$, $_{xx}^{xx}t_{1x}^{0x}$, and $_{xx}^{xx}t_{x1}^{x0}$.\n\n* **Monotonicity of $P$'s effect: no negative effect**: While international pressures are only discussed in Haggard and Kaufman's study, none of the studies considers the possibility that international pressures to democratize might prevent democratization that would otherwise have occurred. We thus set a zero probability on all types in which $P$'s effect is negative at any value of $I$ or $M$. This excludes all of the families of type  $_{1x}^{xx}t_{0x}^{xx}$,  $_{x1}^{xx}t_{x0}^{xx}$,  $_{xx}^{1x}t_{xx}^{0x}$, and  $_{xx}^{x1}t_{xx}^{x0}$.\n\nFor all remaining, allowable types, we set flat priors.\n\nWe summarize the set of excluded  (and included) types in Table \\ref{tab:apptypes}. To ease interpretation of types, we also indicate, for all excluded types, the reason for the exclusion and, for all allowable types, how international pressure moderates the effects of inequality (direct) and mobilization. We use the following notation to characterize conditioning effects of pressure on the effect of another variable, $X$:\n\n* $N$: $P$ has no moderating effect\n\n* $O_X$: $P=1$ creates an \"opportunity\" for $X$ to have an effect that it does not have at $P=0$; at $P=1$ and $X=0$, $D$ takes on the value it does when $X=0$ and $X$ has an effect, but does not take on this value when $P=0$ and $X=0$\n\n* $C_X$: $P=1$ is a causal \"complement\" to $X$, allowing $X$ to have an effect it did not have at $P=0$; at $P=1$ and $X=1$, $D$ takes on the value it does when $X=1$ and $X$ has an effect, but does not take on this value when $P=0$ and $X=1$\n\n* $S_X$: $P=1$ \"substitutes\" for $X$, generating the outcome that $X=1$ was necessary to generate at $P=0$; at $P=1$ and $X=0$, $D$ takes on the value it does when $X=1$ and $X$ has an effect, but does not take on this value when $P=0$ and $X=0$\n\n* $E_X$: $P$ \"eliminates\" $X$'s effect, preventing $X=1$ from generating the outcome it generates when $P=0$; at $P=1$ and $X=1$, $D$ does not take on the value it does when $X=1$ and $X$ has an effect, but does take on this value when $P=0$ and $X=1$\n\n\n\n|         Family or Type        | Excluded? |   Reason for Exclusion  | Nature of interaction | Prior probability |\n|:-----------------------------:|:---------:|:-----------------------:|:---------------------:|:-----------------:|\n| $_{01}^{xx}t_{xx}^{xx}$ |     Yes     | No + $I$ effects |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{01}t_{xx}^{xx}$ |     Yes     | No + $I$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{xx}t_{01}^{xx}$ |     Yes     | No + $I$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{xx}t_{xx}^{01}$ |     Yes     | No + $I$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{1x}^{0x}t_{xx}^{xx}$ |     Yes     | No - $M$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{x1}^{x0}t_{xx}^{xx}$ |     Yes     | No - $M$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{xx}t_{1x}^{0x}$ |     Yes     | No - $M$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{xx}t_{x1}^{x0}$ |     Yes     | No - $M$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{1x}^{xx}t_{0x}^{xx}$ |     Yes     | No - $P$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{x1}^{xx}t_{x0}^{xx}$ |     Yes     |No - $P$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{1x}t_{xx}^{0x}$ |     Yes     |No - $P$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{xx}^{x1}t_{xx}^{x0}$ |     Yes     |No - $P$ effects        |                       |         0         |\n|                               |           |                         |                       |                   |\n| $_{00}^{00}t_{00}^{00}$ |           |                         |          $N$          |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{00}t_{00}^{10}$ |           |                         |       $C_M, O_I$      |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{00}t_{00}^{11}$ |           |                         |         $C_M$         |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{00}t_{10}^{10}$ |           |                         |         $O_I$         |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{00}t_{10}^{11}$ |           |                         |    $C_M, S_M, O_I$    |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{00}t_{11}^{11}$ |           |                         |          $N$          |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{10}t_{00}^{10}$ |           |                         |          $N$          |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{10}t_{00}^{11}$ |           |                         |       $C_M, E_I$      |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{10}t_{10}^{10}$ |           |                         |       $S_M, O_I$      |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{10}t_{10}^{11}$ |           |                         |    $S_M, E_I, O_I$    |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{10}t_{11}^{11}$ |           |                         |       $S_M, E_I$      |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{11}t_{00}^{11}$ |           |                         |          $N$          |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{11}t_{10}^{11}$ |           |                         |       $S_M, O_I$      |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{00}^{11}t_{11}^{11}$ |           |                         |         $S_M$         |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{10}^{10}t_{10}^{10}$ |           |                         |          $N$          |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{10}^{10}t_{10}^{11}$ |           |                         |    $C_M, E_I, O_I$    |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{10}^{10}t_{11}^{11}$ |           |                         |         $E_I$         |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{10}^{11}t_{10}^{11}$ |           |                         |          $N$          |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{10}^{11}t_{11}^{11}$ |           |                         |       $S_M, E_I$      |        0.05       |\n|                               |           |                         |                       |                   |\n| $_{11}^{11}t_{11}^{11}$ |           |                         |          $N$          |        0.05       |\n\nTable: (\\#tab:apptypes) Possible (families of) types defining the possible effects of inequality ($I$), mobilization, ($M$), and international pressure ($P$) on democratization. We exclude families based on a set of monotonicity assumptions, which reduces the allowable types from 256 to 20. For the allowable types, we characterize the nature of the interaction, using the notation explained in the main text. We impose flat priors across all non-excluded types.\n\nSince $P$ conditions the effect of $I$, we must also establish a prior on the distribution of $P$. In this analysis, we set the prior probability of $P=1$ to 0.5, implying that before seeing the data we think that international pressures to democratize are present half the time.\n\n## Inference\n\nWe can now choose nodes other than $I$ or $D$ to observe from the lower-level model. Recall that our query is about the joint values of $U_M$ and $U_D^{lower}$. By the logic $d-$separation, we can immediately see that both $M$ and $P$ may be informative about these nodes when $D$ has already been observed. Conditional on $D$, both $M$ and $P$ are $d-$connected to both $U_M$ and $U_D^{lower}$. Let us see what learn, then, if we search for either mobilization of the lower classes or international pressure or both, and find either clue either present or absent.\n\nWe consider four distinct situations, corresponding to four possible combinations of inequality and democratization values that we might be starting with. In each situation, the nature of the query changes. Where we start with a case with low inequality and no democratization, asking if inequality caused the outcome is to ask if the lack of inequality caused the lack of democratization. Where we have high inequality and no democratization, we want to know if democratization was prevented by high inequality (as high inequality does in Boix's account). For cases in which democratization occurred, we want to know whether the lack or presence of inequality (whichever was the case) generated the democratization. \n\nWe declare a model similarly to that in the last chapter. The key feature here is that we make use of a matrix (Table \\ref{typemat}) that maps types to responses to $P$, $I$, and $M$, and `UD` ($u_D$) determines which row of matrix to choose. We show the declatation of the model in code below. The function `f_M` uses four types ($a,b,c,d$ to map from $I$ to $M$), as noted, the function `f_D` selects from the large matrix in Table \\ref{typemat}. The functions `f_P` and `f_I` assign $P$ and $I$ with probabilities given by  `pi_P` and `pi_I` (which implies as-if random assumptions on these roots).\n\n\n```{r, include = TRUE}\n# Specification of a model of inequality and democratization\n\npi_P = .5\npi_I = .5\nM <- biqq_model(\n     var_names =  c(\"Pressure\", \"Inequality\", \"Mobilization\", \"Democracy\"), \n\n     var_functions =\n      list(f_P = function(U,V) U[1] < pi_P,\n           f_I = function(U,V) U[2] < pi_I,\n           f_M = function(U,V) (U[3]==1)*(1-V[2]) + (U[3]==2)*V[2]+ (U[3]==4),\n           f_D = function(U, V) { f = function(j) {mean(j == V[1:3])==1}\n                                      UDs[U[[4]],][apply(perms, 1, f)]} ), \n      P  =  function() {\n             c(UP = runif(1), \n               UI = runif(1), \n               UM = (1:4 %*% rmultinom(1, 1, prob = c(0, .5, .25, .25)))[[1]],\n               UD = sample(20,1))}\n               )\n\n```\n\n\n```{r, echo = FALSE}\nrownames(UDs) <- 1:nrow(UDs)\nkable(cbind(row = 1:nrow(UDs), UDs), caption = \"\\\\label{typemat} Mapping from admissible types to responses to ancestor variables. Cell entry shows value for D, given row, for each combination of $P$,$M$,$I$, as indicated in column header.\")\n```\n\nThe results for cases that did not democratize (at the time in question) are presented in tables \\ref{Tapp1} and Table \\ref{Tapp2}. Each table shows, for one kind of case, our posterior beliefs on the causal responsibility of $I$ for the outcome for different search strategies.\n\nIn Tables  \\ref{tab:HK8cases1} and Table \\ref{tab:HK8cases2}, we undertake the same exercise but this time for cases that did democratize. For these cases we  use data from Haggard and Kaufman (2012) to show the inferences we would draw using this procedure and the actual observations made for a set of 8 cases. \nHaggard and Kaufman consider only cases that democratized, so all cases in this table have the value $D=1$. We show here how confident we would be that the level inequality caused democratization if (a) we observed only the cause and effect ($I$ and $D$); (b) we additionally observed either the level of mobilization by disadvantaged classes or the level of international pressure; and (c) if we observed both, in addition to $I$ and $D$. Note that countries labels are marked in the  \"full data\" cells in the lower right  quadrant, but their corresponding partial data cells can be read by moving to the left column or the top row (or to the top left cell for the case with no clue data).\n\nIn coding countries' level of inequality, we rely on Haggard and Kaufman's codings using the Gini coefficient from the Texas Inequality dataset.  In selecting cases of democratization, we use the codings in @cheibub2010democracy, one of two measures used by Haggard and Kaufman. Our codings of the $M$ and $P$ clues come from close readings of the country-specific transition accounts in @haggard2012distributive, the publicly shared qualitative dataset associated with Haggard and Kaufman (2012). We code $M$ as $1$ where the transition account refers to anti-government or anti-regime political mobilization by economically disadvantaged groups, and as $0$ otherwise. For $P$, we code $P=0$ is international pressures to democratize are not mentioned in the transition account. The main estimates refer to analyses with only qualitative, monotonicity restrictions on our priors. We also show in square brackets the estimates if we allow for a negative effect of inequality on mobilization but believe it to be relatively unlikely.\n\n\n```{r, echo = FALSE, echo = FALSE, cache = FALSE} \n\n\n# is it an a? does inequality produce no demcracy?\nexample_a <- biqq_which(M,\n operations = list(c(NA, 0, NA, NA), c(NA, 1, NA, NA)),\n query_v = function(x) (x[[1]][4] ==1) & (x[[2]][4] == 0),\n sims = its,\n plotit = FALSE)\n\n\n# Is it a b?\nexample_b <- biqq_which(M,\n operations = list(c(NA, 0, NA, NA), c(NA, 1, NA, NA)),\n query_v = function(x) (x[[1]][4] ==0) & (x[[2]][4] == 1),\n sims = its,\n plotit = FALSE)\n\n\n# Possible results from one or two clues\nsome_results <- function(i,d, example) {x <- cbind(\n  No_P = c(\n  mean(example$A[example$V$I==i & example$V$D==d]                  ),\n  mean(example$A[example$V$I==i & example$V$D==d &  example$V$M==0]),\n  mean(example$A[example$V$I==i & example$V$D==d &  example$V$M==1])),\n  \n  P0 = c(\n  mean(example$A[example$V$I==i & example$V$D==d &                    example$V$P==0]),\n  mean(example$A[example$V$I==i & example$V$D==d &  example$V$M==0 &  example$V$P==0]),\n  mean(example$A[example$V$I==i & example$V$D==d &  example$V$M==1 &  example$V$P==0])),\n  \n  P1 = c(\n  mean(example$A[example$V$I==i & example$V$D==d &                    example$V$P==1]),\n  mean(example$A[example$V$I==i & example$V$D==d &  example$V$M==0 &  example$V$P==1]),\n  mean(example$A[example$V$I==i & example$V$D==d &  example$V$M==1 &  example$V$P==1]))\n  )\n  \n  colnames(x) <- c(\"P unknown\", \"P=0\", \"P=1\")\n  row.names(x) <- c(\"M unknown\", \"M=0\", \"M=1\")\n  x\n  }\n\nI0D0 <- some_results(i=0, d=0, example = example_b)\nI0D0 <- round(I0D0, 3)\nkable(I0D0,digits = 3, caption = \"\\\\label{Tapp1} No inequality and No democratization: Was no inequality a cause of no democratization? Analyses here use priors assuming only monotonic effects.\")\n\nI1D0 <- some_results(i=1, d=0, example = example_a)\nI1D0 <- round(I1D0, 3)\nkable(I1D0,digits = 3, caption = \"\\\\label{Tapp2} Inequality and No democratization: Was inequality a cause of no democratization? Analyses here use priors assuming only monotonic effects.\")\n\n#kable(some_results(i=0, d=1, example = example_a),digits = 3, caption = \"\\\\label{Tapp3} No Inequality and  democratization: Was no inequality a cause of democratization?\")\n\n#kable(some_results(i=1, d=1, example = example_b),digits = 3, caption = \"\\\\label{Tapp4} Inequality and Democratization: Was  inequality a cause of democratization?\")\n```\n\n```{r, echo = FALSE}\nI0D1 <- some_results(i=0, d=1, example = example_a)\nI0D1 <- round(I0D1, 3)\n\ncases_table <- function(conclusions, cases){\n  x <- cbind(\n  case =  cases, \n  M = c(\"No\", \"No\", \"Yes\", \"Yes\"),\n  P = c(\"No\", \"Yes\", \"No\", \"Yes\"),\n  No_data = round(rep(conclusions[1,1], 4),3),\n  M_only  = round(c(conclusions[2,1], conclusions[2,1], conclusions[3,1], conclusions[3,1]),3),\n  P_only  = round(c(conclusions[1,2], conclusions[1,3], conclusions[1,2], conclusions[1,3]),3),\n  All     = round(c(conclusions[2,2], conclusions[2,3], conclusions[3,2], conclusions[3,3]),3))\n  colnames(x) <- c(\"Case\", \"M: Mobilization?\", \"P: Pressure?\", \"No clues\", \"M only\", \"P only\", \"M and P\")\n  x}\n\nkable(cases_table(I0D1,  cases = c(\"Mexico (2000)\", \"Taiwan (1996)\", \"Albania (1991)\", \"Nicaragua (1984)\")), caption = \"\\\\label{tab:HK8cases1} Four cases with low inequality and  democratization. Question of interest: Was low inequality a cause of democracy? Table shows posterior beliefs for different data for 4 cases given information on $M$ or $P$. Data from Haggard and Kaufman (2012). Analyses here use priors assuming only monotonic effects.\")\n\n```\n\n\n\n```{r, echo = FALSE}\nI1D1 <- some_results(i=1, d=1, example = example_b)\nI1D1 <- round(I1D1, 3)\nkable(cases_table(I1D1, cases = c(\"Mongolia (1990)\", \"Taiwan (1996)\", \"Paraguay (1989)\", \"Malawi (1994)\") ), caption = \"\\\\label{tab:HK8cases2} Four cases with high inequality and  democratization. Question of interest: Was high inequality a cause of democratization? Table shows posterior beliefs for different data for 4 cases given information on $M$ or $P$. Data from Haggard and Kaufman (2012). Analyses here use priors assuming only monotonic effects.\")\n\n```\n\n\n\n<!-- | Country (Year)                               | $I$ | $D$ | $M$ | $P$ | Posterior given $I$ and $D$ | Posterior given $I$, $D$, and $M$ | Posterior given $I$, $D$, $M$, $P$ | -->\n<!-- |----------------------------------------------|:---:|:---:|:---:|:---:|:---------------------------:|:---------------------------------:|:----------------------------------:| -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | *Did low inequality cause democratization?*  |     |     |     |     |                             |                                   |                                    | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Mexico (2000)                                |  0  |  1  |  0  |  0  |            0.410            |               0.414               |                0.620               | -->\n<!-- |                                              |     |     |     |     |           [0.462]           |              [0.417]              |               [0.608]              | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Albania (1991)                               |  0  |  1  |  1  |  0  |            0.410            |               0.401               |                0.583               | -->\n<!-- |                                              |     |     |     |     |           [0.462]           |              [0.515]              |               [0.693]              | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Taiwan (1996)                                |  0  |  1  |  0  |  1  |            0.410            |               0.414               |                0.336               | -->\n<!-- |                                              |     |     |     |     |           [0.462]           |              [0.417]              |               [0.340]              | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Nicaragua (1984)                             |  0  |  1  |  1  |  1  |            0.410            |               0.401               |                0.264               | -->\n<!-- |                                              |     |     |     |     |           [0.462]           |              [0.515]              |               [0.386]              | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | *Did high inequality cause democratization?* |     |     |     |     |                             |                                   |                                    | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Mongolia (1990)                              |  1  |  1  |  0  |  0  |            0.187            |                 0                 |                  0                 | -->\n<!-- |                                              |     |     |     |     |           [0.164]           |                [0]                |                 [0]                | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Sierra Leone (1996)                          |  1  |  1  |  1  |  0  |            0.187            |               0.209               |                0.339               | -->\n<!-- |                                              |     |     |     |     |           [0.164]           |              [0.194]              |               [0.323]              | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Paraguay (1989)                              |  1  |  1  |  0  |  1  |            0.187            |                 0                 |                  0                 | -->\n<!-- |                                              |     |     |     |     |           [0.164]           |                [0]                |                 [0]                | -->\n<!-- |                                              |     |     |     |     |                             |                                   |                                    | -->\n<!-- | Malawi (1994)                                |  1  |  1  |  1  |  1  |            0.187            |               0.209               |                0.151               | -->\n<!-- |                                              |     |     |     |     |           [0.164]           |              [0.194]              |               [0.137]              | -->\n<!-- Table: (\\#tab:HK8cases) **Application to 8 cases.** Here we show data and results for 8 cases of democratization (all $D=1$) using the procedure described in the text and data from Haggard and Kaufman (2012). Posteriors in square brackets are drawn from our secondary analysis in which we allow inequality to have a negative effect on mobilization, but believe this effect to be relatively unlikely. Data sources described in text. -->\n\n\n\n#### $I=0, D=0$\n\nTo begin with $I=0, D=0$ cases, did the lack of inequality caused the lack of democratization (as, for instance, at the lefthand end of the Acemoglu and Robinson inverted $U$-curve)? We start out, based on the $I$ and $D$ values and our model, believing that there is a `r I0D0[1,1]` chance that low inequality prevented democratization. We then see that our beliefs shift most dramatically if we go looking for mobilization and find that it was present. The reason is that any positive effect of $I$ on $D$ has to run through the pathway mediated by $M$ because we have excluded a positive direct effect of $I$ on $D$ in our priors. Moreover, since we do not allow $I$ to have a negative effect on $M$, observing $M=1$ when $I=0$ must mean that $I$ has no effect on $M$ on this case, and thus $I$ cannot have a positive effect on $D$ (regardless also of what we find if we look for $P$). If we do *not* observe mobilization when we look for it, we now think it is somewhat more likely that $I=0$ caused $D=0$ since it is still possible that high inequality *could* cause mobilization. \n\nWe also see that observing whether there is international pressure has a substantial effect on our beliefs. When we observe $M=1$ (or don't look for $M$ at all), the presence of international pressure increases the likelihood that low inequality prevented democratization. Intuitively, this is because international pressure, on average across types, has a positive effect on democratization; so pressure's presence creates a greater opportunity for low inequality to counteract international pressure's effect and prevent democratization from occurring that otherwise would have (if there had been high inequality and the resulting mobilization).\n\n\n#### $I=1, D=0$\n\nIn cases with high inequality and no democratization, the question is whether high inequality prevented democratization via a negative effect, as theorized by Boix. That negative effect has to have operated via inequality's direct effect on democratization since our monotonicity restrictions allow only positive effects via mobilization. Here, the consequence of observing $P$ is similar to what we see in the $I=0, D=0$ case: seeing international pressure greatly increases our confidence that high inequality prevented democratization, while seeing no international pressure moderately reduces that confidence. There is, returning to the same intuition, more opportunity for high inequality to exert a negative effect on democratization when international pressures are present, pushing toward democratization. \n\nHere, however, looking for $M$ has more modest effect than it does in an $I=0, D=0$ case. This is because we learn less about the indirect pathway from $I$ to $D$ by observing $M$: as we have said, we already know from seeing high inequality and no democratization (and under our monotonicity assumptions) that any effect could not have run through the presence or absence of mobilization. \n\nHowever, $M$ provides some information because it, like $P$, acts as *moderator* for $I$'s direct effect on $D$ (since $M$ is also pointing into $D$). As we know, learning about moderators tells us something about (a) the rules governing a case's response to its context (i.e., its response type) and (b) the context it is in. Thus, in the first instance, observing $M$ together with $I$ and $D$ helps us eliminate types inconsistent with these three data points. For instance, if we see $M=0$, then we eliminate any type in which $D$ is 0, regardless of $P$'s value, when $M=0$ and $I=1$. Second, we learn from observing $M$ about the value of $M$ under which $D$ will be responding to $I$. Now, because $M$ is itself potentially affected by $I$, the learning here is somewhat complicated. What we learn most directly from observing $M$ is *the effect of $I$ on $M$* in this case. If we observe $M=1$, then we know that $I$ has no effect on $M$ in this case; whereas if we observe $M=0$, $I$ might or might not have a positive effect on $M$. Learning about this $I \\rightarrow M$ effect then allows us to form a belief about how likely $M$ would be to be 0 or 1 if $I$ changed from $0$ to $1$; that is, it allows us to learn about the context under which $D$ would be responding to this change in $I$ (would mobilization be occurring or not)? This belief, in turn, allows us to form a belief about how $D$ will respond to $I$ given our posterior beliefs across the possible types that the case is. \n\nThe net effect, assuming that we have not observed $P$, is a small upward effect in our confidence that inequality mattered if we see no mobilization, and a small downward effect if we see mobilization. Interestingly, if we *do* observe $P$, the effect of observing $M$ reverses: observing mobilization increases our confidence in inequality's effect, while observing no mobilization reduces it. \n\n\n#### $I=0, D=1$\n\nWe turn now to cases in which democratization has occurred---the category of cases that Haggard and Kaufman examine.\n\nIn a case that had low inequality and democratized, did low inequality cause democratization, as Boix's thesis would suggest? Looking at the first set of cases in Table \\ref{tab:HK8cases1}, did Mexico, Albania, Taiwan, and Nicaragua democratize because they had relatively low inequality? Based only on observing the level of inequality and the outcome of democratization, we would place a `r I0D1[1,1]` probability on inequality having been a cause. What can we learn, then, from our two clues?\n\nWe are looking here for a negative effect of $I$ on $D$, which in our model can only run via a direct effect, not through mobilization. Thus, the learning from $M$ is limited for the same reason as in an $I=1, D=0$ case. And $M$ is modestly informative as a moderator for the same reasons and in the same direction, with observing mobilization generally reducing our confidence in inequality's negative effect relative to observing no mobilization. In our four cases, if we observe the level of mobilization, our confidence that inequality mattered goes up slightly (to `r I0D1[2,1]`) in Mexico and Taiwan, where mobilization did not occur, and goes down slightly in Albania and Nicaragua (to `r I0D1[3,1]`) where mobilization did occur.\n\nLooking for the international pressure clue is, however, highly informative, though the effect runs in the opposite direction as in an $I=1, D=0$ case.  It is observing the absence of international pressure that makes us more confident in low inequality's effect. Since democratization *did* occur, the presence of international pressure makes it less likely for low inequality to have generated the outcome since international pressure could have generated democratization by itself. Once we bring this second clue into the analysis, Mexico and Taiwan sharply part ways: seeing no international pressure in Mexico, we are now much more confident that inequality mattered for the Mexican transition (`r I0D1[2,2]`); seeing international pressure in Taiwan, we are now substantially less confident that inequality mattered to the Taiwanese transition (`r I0D1[2,3]`). Similarly, observing $P$ sharply differentiates the Albanian and Nicaraguan cases: seeing no international pressure in the Albanian transition considerably boosts our confidence in inequality's causal role there (`r I0D1[3,2]`), while observing international pressure in the Nicaraguan transition strongly undermines our belief in an inequality effect there (`r I0D1[3,3]`).\n\n\n#### $I=1, D=1$\n\nWhere we see both high inequality and democratization, the question is whether high inequality caused democratization via a positive effect. Considering the second set of cases in Table \\ref{tab:HK8cases2}, did high inequality cause Mongolia, Sierra Leone, Paraguay, and Malawi to democratize?\n\nObserving only the level of inequality and the democratization outcome, we would have fairly low confidence that inequality mattered, with a posterior on that effect of `r I1D1[1,1]`. Let us see what we can learn if we also observe the level of mobilization and international pressure.\n\nAs in an $I=0, D=0$ case, $M$ can now be highly informative since this positive effect has to run through mobilization. Here it is the observation of a lack of mobilization that is most telling: high inequality cannot have caused democratization, given our model, if inequality did not cause mobilization to occur. There is no point in looking for international pressure since doing so will have no effect on our beliefs. Thus, when we observe no mobilization by the lower classes in Mongolia and Paraguay, we can be certain (given our model) that high inequality did *not* cause democratization in these cases. Moreover, this result does not change if we also go and look for international pressure: neither seeing pressure nor seeing its absence shifts our posterior away from `r I1D1[1,1]`. \n\nIf we do see mobilization, on the other hand---as in Sierra Leone and Malawi---we are slightly more confident that high inequality was the cause of democratization (`r I1D1[3,1]`). Moreover, if we first see $M=1$, then observing international pressure can add much more information; and it substantially differentiates our conclusions about the causes of Sierra Leone's and Malawi's transitions. Just as in an *$I=0, D=1* case, it is the absence of international pressure that leaves the most \"space\" for inequality to have generated the democratization outcome. When we see the absence of pressure in Sierra Leone, our confidence that high inequality was a cause of the transition increases to `r I1D1[3,2]`; seeing pressure present in Malawi reduces our confidence in inequality's effect to `r I1D1[3,3]`.\n\n\n\nWe also show in Table \\ref{CaseLearn}  how  uncertainty is likely to be reduced with  different research designs. (These tables are generated using the `biqq_learning' function introduced in the last chapter.) We show these reductions here for the two kinds of cases in which democratization does occur. The first row displays the variance on our posterior belief about the effect if $I$ on $D$ before we observe anything at all. The second row shows what happens to that uncertainty when we observe just cause and outcome, $I$ and $D$. The next four rows show the results for four possible choices in regard to process tracing: looking for neither $M$ nor $P$ (which is identical to doing no process tracing at all); looking for $P$; looking for $M$; and looking for both. The clearest message here is that, if we had to choose between clues, we should observe $P$: given our model (including our priors on the types), we reduce our uncertainty more by learning about an alternative cause than by learning about a mediator. We also see that the mediator is much more informative when the causal effect we are looking for is one that *could* have operated via the mediator, as compared to when the mediator is informative only as a moderator of the cause's direct effects.\n\n\n```{r, echo = FALSE, cache = TRUE}\n\nf_learn <- function(W=c(NA, 1, NA, 1),\n                    operations = list(c(NA, 0, NA, NA), c(NA, 1, NA, NA)),\n                    query = function(x) (x[[1]][4] ==0) & (x[[2]][4] == 1),\n                    model) {\n              x <- biqq_learning(model, sims = its,\n                operations = operations,\n                query_v = query,\n                W = W,\n                Ks = rbind(\n                         c(FALSE, FALSE, FALSE, FALSE),\n                         c(TRUE, FALSE, FALSE, FALSE),\n                         c(FALSE, FALSE, TRUE, FALSE),\n                         c(TRUE, FALSE, TRUE, FALSE)\n                ))\n              x <- as.matrix(x, 1, 6)\n              colnames(x) <- \"Expected Variance\"\n              x}\n\nL1 <- f_learn(model = M)\n\n  \n```\n\n\n```{r, include = FALSE, echo = FALSE, cache = TRUE}\nM2 <- biqq_model(\n     var_names     =  c(\"Pressure\", \"Inequality\", \"Mobilization\", \"Democracy\"), \n\n     var_functions =\n         list( f_P = function(U,V) U[1] < pi_P,\n               f_I = function(U,V) U[2] < pi_I,\n               f_M = function(U,V) (U[3]==1)*(1-V[2]) + (U[3]==2)*V[2]+ (U[3]==4),\n               f_D = function(U, V) { f = function(j) {mean(j == V[1:3])==1}\n                                      UDs[U[[4]],][apply(perms, 1, f)]} ), \n      P         =  function() {\n                   c( UP = runif(1), \n                         UI = runif(1), \n                         UM = (1:4 %*% rmultinom(1, 1, prob = c(.1, .4, .25, .25)))[[1]],\n                         UD = sample(20,1))}\n   )\n\n\n```\n\n\n\n```{r L2, echo = FALSE, cache = TRUE}\n\nL2 <- f_learn(W=c(NA, 1, NA, 0), operations = list(c(NA, 1, NA, NA), c(NA, 0, NA, NA)), model = M)\n  \n```\n\n\n\n```{r, include = FALSE, echo = FALSE, cache = TRUE}\nM2 <- biqq_model(\n     var_names     =  c(\"Pressure\", \"Inequality\", \"Mobilization\", \"Democracy\"), \n\n     var_functions =\n         list( f_P = function(U,V) U[1] < pi_P,\n               f_I = function(U,V) U[2] < pi_I,\n               f_M = function(U,V) (U[3]==1)*(1-V[2]) + (U[3]==2)*V[2]+ (U[3]==4),\n               f_D = function(U, V) { f = function(j) {mean(j == V[1:3])==1}\n                                      UDs[U[[4]],][apply(perms, 1, f)]} ), \n      P         =  function() {\n                   c( UP = runif(1), \n                         UI = runif(1), \n                         UM = (1:4 %*% rmultinom(1, 1, prob = c(.1, .4, .25, .25)))[[1]],\n                         UD = sample(20,1))}\n   )\n\n\n```\n\n```{r, echo = FALSE, cache = TRUE} \nexample_b2 <- biqq_which(M2,\n operations = list(c(NA, 0, NA, NA), c(NA, 1, NA, NA)),\n query_v = function(x) (x[[1]][4] ==0) & (x[[2]][4] == 1),\n sims = its,\n plotit = FALSE)\n\nexample_a2 <- biqq_which(M2,\n operations = list(c(NA, 0, NA, NA), c(NA, 1, NA, NA)),\n query_v = function(x) (x[[1]][4] ==1) & (x[[2]][4] == 0),\n sims = its,\n plotit = FALSE)\n```\n\n```{r L3L4, echo = FALSE, cache = TRUE}\nL3 <- f_learn(model = M2)\n\nL4 <- f_learn(W=c(NA, 1, NA, 0), operations = list(c(NA, 1, NA, NA), c(NA, 0, NA, NA)), model = M2)\n```\n\n\n\n\n```{r, echo = FALSE}\nEL <- matrix(\" \", 12, 3)\nEL[-1+2*(1:6),2] <-  round(L1, 3)\nEL[2*(1:6),2] <-  paste0(\"(\", round(L3,3),  \")\")\nEL[-1+2*(1:6),3] <-  round(L2, 3)\nEL[2*(1:6),3] <-  paste0(\"(\", round(L4,3),  \")\")\nEL[-1+2*(1:6),1] <-  c(\"Prior variance\", \"Posterior Variance given W\", \"Expected Var given no search\", \"Expected Var given only seek P\", \"Expected Var given only seek M\", \"Expected Var given seek P and M\")\ncolnames(EL) <- c(\"\", \"W: I=1 and D=1\", \"W: I=0 and D=1\") \nkable(EL, caption = \"\\\\label{CaseLearn}Variances and expected variances given different background knowledge, W, on inequality and democratiation, and different clue seeking  stratgies. Main entries use 'qualititative priors' (see text); entries in parentheses use 'quantitative priors.'\", align = c('l', 'c', 'c'))\n\n```\n\n\nIn a second iteration of the analysis, we show what happens if we loosen the monotonicity restriction on $I$'s effect on $M$. Here we  consider negative effects of $I$ on $M$ *unlikely*, rather than impossible, and we consider null and positive effects somewhat likely. We refer to these priors as \"quantitative priors\" in the sense that they place a numerical value on beliefs rather than a logical restriction. Here, we set our prior on $U^M$ as: $p(U^M=t^M_{10})=0.1$, $p(U^M=t^M_{00})=0.25$, $p(U^M=t^M_{11})=0.25$, and $p(U^M=t^M_{01})=0.4$. We show the results for the inferences given different findings in tables \\ref{tab:HK8cases1quant} and \\ref{tab:HK8cases2quant}. The mapping into expected posterior variance associated with each strategy is shown by the numbers in parentheses in  Table \\ref{CaseLearn}.\n\n```{r, echo = FALSE}\nI0D12 <- some_results(i=0, d=1, example = example_a2)\nI0D12 <- round(I0D12, 3)\nkable(cases_table(I0D12,  cases = c(\"Mexico (2000)\", \"Taiwan (1996)\", \"Albania (1991)\", \"Nicaragua (1984)\")), caption = \"\\\\label{tab:HK8cases1quant} Four cases with low inequality and  democratization. Question of interest: Was low inequality a cause of democracy? Table shows posterior beliefs for different data for 4 cases given information on $M$ or $P$. Data from Haggard and Kaufman (2012). Analyses here use priors assuming quantitative restrictions.\")\nI1D12 <- some_results(i=1, d=1, example = example_b2)\nI1D12 <- round(I1D12, 3)\nkable(cases_table(I1D12, cases = c(\"Mongolia (1990)\", \"Taiwan (1996)\", \"Paraguay (1989)\", \"Malawi (1994)\") ), caption = \"\\\\label{tab:HK8cases2} Four cases with high inequality and  democratization. Question of interest: Was high inequality a cause of democratization? Table shows posterior beliefs for different data for 4 cases given information on $M$ or $P$. Data from Haggard and Kaufman (2012). Analyses here use priors assuming quantitative restrictions.\")\n\n```\n\n\nThe results differ in various modest ways. However, the biggest difference we observe is in the degree to which the mobilization clue matters when we are looking for negative effects of inequality. As discussed, if we assumed monotonic positive effects of inequality on mobilization and monotonic positive effects of mobilization on inequality, then the mediator clue is uninformative about the indirect pathway since that pathway can only generate a positive effect. However, if we allow for the possibility of a negative effect of inequality on mobilization, we now make $M$ informative as a mediator even when the effect of inequality that we are interested in is negative: it is now possible that inequality has a negative effect on democratization via a negative effect on mobilization, followed by a positive effect of mobilization on democratization. So now, observing whether mobilization occurred adds information about whether a negative effect could have occurred via the mobilization pathway. \n\nMoreover, it is possible for the two effects of observing $M$ on our beliefs to work in opposite ways. What we learn from observing $M$ about the $I \\rightarrow M \\rightarrow D$ pathway may push in a different direction from what we learn from observing $M$ about the direct $I \\rightarrow D$ pathway. We see this dynamic at work in a case with low inequality and democratization. Where we are only learning about $M$ as a moderator of $I$'s direct effect (monotonicity assumption in place), observing $M=0$ shifts our beliefs in favor of $I$'s negative effect. But where we are learning about $M$ as both mediator and moderator, observing $M=0$ shifts our beliefs *against* $I$'s negative effect. The reason for this latter result is straightforward: if $I=0$ and we then see $M=0$, then we have just learned that inequality's possible indirect negative effect, running via the mobilization pathway, has *not* in fact occurred; and this has a considerable downward effect on our beliefs in an overall negative effect of inequality. This learning outweighs the small positive impact of observing $M=0$ on our confidence that $I$ had a direct negative effect on $D$.\n\nWe see these differences most clearly in the cases of Albania (as compared to Mexico) and Nicaragua (as compared to Taiwan). Under priors fully constrained to monotonic causal effects, we saw that the mediator clue, $M$, made only a small difference to our inferences. However, if we allow for a negative effect of $I$ on $M$, even while believing it to be unlikely, observing mobilization in Albania and Nicaragua makes us substantially more confident that inequality mattered, and differentiates our conclusions about these cases more sharply from our conclusions about Mexico and Taiwan, respectively. \n\n**\\color{red}To come: applied case-level analyses involving causal pathways, actual causes, and notable causes.**\n\n\n\n\n## Concluding thoughts\n\nOne significant lesson of this exercise is that our prior beliefs about causal relations in the world have major implications for our interpretation of process tracing evidence. We see these implications at work in the comparison of the two sets of priors: a rather small change in one prior has a considerable effect on the interpretation of the mediator clue for certain kinds of cases. \n\nYet we also see these implications if we compare our results to the discussion of the process tracing evidence in Haggard and Kaufman's study. Haggard and Kaufman set out to use causal process observations to test inequality-based theories of democratization against the experiences of \"Third Wave\" democratizations. Their principal test is to examine whether they see evidence of distributive conflict in the process of democratization, defined largely as the presence or absence of mobilization prior to the transition. They secondarily look for other possible causes, specifically international pressure and splits in the elite. \n\nIn interpreting the evidence, Haggard and Kaufman generally treat the absence of mobilization as evidence against inequality-based theories of democratization as a whole (p. 7). They also see the *presence* of distributive mobilization in cases with high inequality and democratization as evidence against the causal role of inequality (p. 7). These inferences, however, seem only loosely connected to the logic of the causal theories under examination. Haggard and Kaufman express concern that inequality-oriented arguments point to \"cross-cutting effects\" (p. 1) of inequality, but do not systematically work through the implications of these multiple pathways for empirical strategy. Our analysis suggests that a systematic engagement with the underlying models can shift that interpretation considerably. Under the model we have formulated, where inequality is *high*, the absence of mobilization in a country that democratized is indeed damning to the notion that inequality mattered. However, where inequality is *low*---precisely the situation in which Boix's theory predicts that we will see democratization---things are more complicated. If we assume that inequality cannot prevent mobilization, then observing no mobilization does not work against the claim that inequality mattered for the transition; indeed, it slightly supports it, at least given what we think is a plausible model-representation of arguments in the literature. Observing the absence of inequality in such a case, however, can undercut an inequality-based explanation if (and only if) we believe it is possible that inequality might prevent mobilization that would otherwise have occurred. Further, in cases with high inequality and democratization, it is the *absence* of mobilization by the lower classes that would least consistent with the claim that inequality mattered. Observing mobilization, in contrast, pushes in favor of an inequality-based explanation.\n\nMoreover, it is striking that Haggard and Kaufman lean principally on a mediator clue, turning to evidence of international pressure and elite splits (moderators, or alternative causes) largely as secondary clues to identify \"ambiguous\" cases. As we have shown, under a plausible model given prior theory, it is the moderator clue that is likely to be much more informative.\n\nOf course, the model that we have written down is only one possible interpretation of existing theoretical knowledge. It is very possible that Haggard and Kaufman and other scholars in this domain hold beliefs that diverge from those encoded in our working model. The larger point, however, is that our process tracing inferences will inevitably *depend*---and could depend greatly---on our background knowledge of the domain under examination. Moreover, formalizing that knowledge as causal model can help ensure that we are taking that prior knowledge systematically into account---that the inferences we draw from new data are consistent with the knowledge that we bring to the table.\n\nA final observation concerns case selection. Haggard and Kaufman justify their choice of only $D=1$ cases as a strategy \"designed to test a particular theory and thus rests on identification of the causal mechanism leading to regime change\" (p. 4). Ultimately, however, the authors seem centrally concerned with assessing whether inequality, as opposed to something else, played a key causal role in generating the outcome. As the results above demonstrate, however, there is nothing special about the $D=1$ cases in generating leverage on this question. The tables for $D=0$ show that, given the model, the same clues can shift beliefs about as much for $D=0$ as for $D=1$ cases. We leave a more detailed discussion of this kind of issue in model-based case-selection for Chapter 11.\n\n\n<!-- THE FOLLOWING TWO CONDITIONS ARE REMOVED BECAUSE, I AM ALMOST POSITIVE, THEY ARE ALREADY COVERED BY THE MONOTONICITY CONDITIONS. \\item \\textbf{$I=1$ dampens $M$'s effect}: Acemoglu and Robinson model inequality's effect on elite preferences (our direct effect) and and its effect on the poor's preferences (essentially, our effect via mobilization) as countervailing. While the poor want democracy more as inequality rises, the elite become more determined to avoid it. Thus, as inequality rises (holding the level of mobilization constant), mobilization should be less likely to succeed. The studies under consideration, moreover, provide no reason to think the opposite: that mobilization should become more likely to succeed as inequality goes up, holding constant the level of mobilization. To reflect these beliefs, we place zero probability on those types in which democracy will not occur at low levels of inequality but in which mobilization has a positive effect at a high level of inequality at any value of $P$. This yields average prior beliefs weighted toward inequality dampening mobilization's effect. -->\n<!-- \\item \\textbf{$M=1$ dampens $I$'s effect}: Likewise, where disadvantaged groups have mobilized, inequality should be less likely to have a negative direct effect. At high levels of mobilization, it will be more difficult for elite preferences (which higher inequality drives against democratizing) to prevail. And, based on the logics in the literature, it should never be the case that mobilization enhances inequality's negative effect on democratization. We thus place zero probability on those types in which, for any value of $P$, democratization would occur at high levels of inequality but in which $I$ has a negative effect when $M=1$, generating a belief set weighted toward the belief that mobilization dampens inequality's negative effect. -->\n\n",
    "created" : 1492980373946.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "269372807",
    "id" : "E6A67A9F",
    "lastKnownWriteTime" : 1494056559,
    "last_content_update" : 1494056559671,
    "path" : "C:/Dropbox/ProcessTracing/8 Book/ii/07-illustrations.Rmd",
    "project_path" : "07-illustrations.Rmd",
    "properties" : {
        "last_setup_crc32" : "D114D486b96912b1"
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}